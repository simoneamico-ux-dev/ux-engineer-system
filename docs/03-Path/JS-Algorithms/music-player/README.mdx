---
sidebar_position: 12
sidebar_label: 'Music Player'
title: 'Music Player'
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Music Player

<img width="100%" alt="Screenshot of music player with current track: 'Can't Stop Me. Can't Even Slow Me Down.' by Quincy Larson" src="https://github.com/user-attachments/assets/679842e3-4816-40c6-8163-d2739784577f" />

### The Project

Interactive music player with dynamic playlist, complete playback controls and advanced features like shuffle, delete and reset. Developed with vanilla JavaScript, String and Array methods.

### Source Code

<Tabs>
<TabItem value="html" label="index.html" default>

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <title>
      Learn Basic String and Array Methods by Building a Music Player App
    </title>
  </head>

  <body>
    <div class="container">
      <div class="player">
        <div class="player-bar">
          <div class="parallel-lines">
            <div></div>
            <div></div>
          </div>
          <h1 class="fcc-title">freeCodeCamp</h1>
          <div class="parallel-lines">
            <div></div>
            <div></div>
          </div>
        </div>
        <div class="player-content">
          <div id="player-album-art">
            <img
              src="https://cdn.freecodecamp.org/curriculum/js-music-player/quincy-larson-album-art.jpg"
              alt="song cover art"
            />
          </div>
          <div class="player-display">
            <div class="player-display-song-artist">
              <p id="player-song-title"></p>
              <p id="player-song-artist"></p>
            </div>
            <div class="player-buttons">
              <button id="previous" class="previous" aria-label="Previous">
                <svg
                  width="24"
                  height="19"
                  viewBox="0 0 24 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                ><path d="M23.2248 0L7.03964 9.5L23.2248 19L23.2248 0Z" /><rect
                    width="4.63633"
                    height="18.5453"
                    transform="matrix(-1 0 0 1 4.63633 0)"/></svg>
              </button>
              <button id="play" class="play" aria-label="Play">
                <svg
                  width="17"
                  height="19"
                  viewBox="0 0 17 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                > <path d="M0 0L16.1852 9.5L1.88952e-07 19L0 0Z" /></svg>
              </button>
              <button id="pause" class="pause" aria-label="Pause">
                <svg
                  width="17"
                  height="19"
                  viewBox="0 0 17 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                ><path d="M0 6.54013e-07H4.75V19H0V6.54013e-07Z" /> <path d="M11.4 0H16.15V19H11.4V0Z" /></svg>
              </button>
              <button id="next" class="next" aria-label="Next">
                <svg
                  width="24"
                  height="19"
                  viewBox="0 0 24 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                ><path d="M0 0L16.1852 9.5L1.88952e-07 19L0 0Z" /> <rect x="18.5885" width="4.63633" height="18.5453" /></svg>
              </button>
              <button id="shuffle" class="shuffle" aria-label="Shuffle">
                <svg
                  width="17"
                  height="14"
                  viewBox="0 0 17 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                ><path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M12.2127 0L17 2.9219L12.0759 5.60686L12.1321 3.30594C11.9081 3.30997 11.7043 3.3165 11.528 3.326C11.3777 3.3341 11.2523 3.34411 11.1542 3.35578C11.1053 3.3616 11.0661 3.36749 11.036 3.37309C11.0211 3.37587 11.0095 3.37835 11.001 3.38041C10.9967 3.38143 10.9936 3.38227 10.9913 3.38289C10.989 3.38352 10.988 3.38385 10.9881 3.38382C10.9266 3.40381 10.7572 3.5014 10.4637 3.73265C10.1895 3.94866 9.85452 4.24234 9.47614 4.59282C8.81462 5.20556 8.03912 5.97461 7.25609 6.76752C8.03912 7.56043 8.81462 8.32948 9.47614 8.94223C9.85452 9.29271 10.1895 9.58639 10.4637 9.80239C10.7572 10.0336 10.9266 10.1312 10.9881 10.1512C10.988 10.1512 10.989 10.1515 10.9913 10.1522C10.9936 10.1528 10.9967 10.1536 11.001 10.1546C11.0095 10.1567 11.0211 10.1592 11.036 10.162C11.0661 10.1676 11.1053 10.1734 11.1542 10.1793C11.2523 10.1909 11.3777 10.2009 11.528 10.209C11.7043 10.2185 11.9081 10.2251 12.1321 10.2291L12.0759 7.92819L17 10.6131L12.2127 13.535L12.1558 11.2011C11.9071 11.197 11.677 11.1899 11.4757 11.1791C11.175 11.1629 10.8757 11.1361 10.6878 11.0751C10.4405 10.9947 10.1465 10.7892 9.86244 10.5654C9.55904 10.3263 9.20251 10.0129 8.81601 9.6549C8.14192 9.03051 7.35822 8.2533 6.57518 7.46052C6.2731 7.76927 5.9736 8.07675 5.68453 8.37353C5.24051 8.8294 4.82109 9.26001 4.45467 9.63114C4.10458 9.98574 3.79502 10.2941 3.54834 10.5285C3.42516 10.6455 3.31437 10.7473 3.22005 10.8285C3.13287 10.9035 3.03686 10.9812 2.94938 11.0324C2.46156 11.3178 1.79381 11.3751 1.32395 11.3812C1.07514 11.3845 0.852462 11.3732 0.692065 11.3611C0.611577 11.3551 0.546037 11.3488 0.499864 11.344C0.476761 11.3415 0.458455 11.3394 0.445496 11.3379L0.43012 11.336L0.425557 11.3355L0.423542 11.3352C0.423448 11.3352 0.423143 11.3352 0.485767 10.8535L0.423542 11.3352C0.157529 11.3006 -0.0304782 11.0569 0.00410824 10.7909C0.0386807 10.525 0.282182 10.3374 0.548069 10.3718C0.548087 10.3718 0.548051 10.3718 0.548069 10.3718L0.549944 10.372L0.559616 10.3732C0.568682 10.3743 0.582871 10.3759 0.60165 10.3779C0.639243 10.3818 0.695017 10.3872 0.764728 10.3924C0.90473 10.4029 1.09799 10.4127 1.31133 10.4099C1.76571 10.404 2.20705 10.3412 2.4587 10.194C2.45847 10.1941 2.4583 10.1942 2.4587 10.194C2.46075 10.1926 2.47161 10.1855 2.49271 10.1693C2.51674 10.1508 2.54777 10.1254 2.58634 10.0922C2.66358 10.0258 2.7615 9.93612 2.87917 9.82431C3.11419 9.60097 3.41488 9.30164 3.76339 8.94864C4.1317 8.57559 4.54478 8.15147 4.98424 7.70025C5.27761 7.39904 5.58273 7.08575 5.89415 6.76752C5.58272 6.44928 5.27759 6.13598 4.98421 5.83476C4.54476 5.38355 4.1317 4.95944 3.76339 4.5864C3.41488 4.2334 3.11419 3.93407 2.87917 3.71074C2.7615 3.59892 2.66358 3.50929 2.58634 3.44281C2.54777 3.40961 2.51674 3.38425 2.49271 3.36577C2.4716 3.34954 2.46099 3.34258 2.45894 3.34123C2.45868 3.34108 2.45853 3.34096 2.45894 3.34123C2.2073 3.19405 1.76572 3.13106 1.31133 3.12515C1.09799 3.12238 0.90473 3.13211 0.764728 3.14261C0.695017 3.14784 0.639243 3.15321 0.60165 3.15717C0.582871 3.15915 0.568682 3.16077 0.559616 3.16184L0.549944 3.16301L0.548391 3.1632C0.282436 3.1977 0.0386882 3.01013 0.00410824 2.74417C-0.0304782 2.47816 0.15713 2.23447 0.423143 2.19989L0.485767 2.68154C0.423143 2.19989 0.423048 2.1999 0.423143 2.19989L0.425557 2.19958L0.43012 2.199L0.445496 2.19714C0.458455 2.19561 0.476761 2.19352 0.499864 2.19109C0.546037 2.18622 0.611577 2.17995 0.692065 2.17391C0.852462 2.16188 1.07514 2.15058 1.32395 2.15381C1.79381 2.15992 2.46156 2.21726 2.94938 2.50267C3.03686 2.55385 3.13287 2.63152 3.22005 2.70655C3.31437 2.78773 3.42516 2.8895 3.54834 3.00655C3.79502 3.24097 4.10458 3.54931 4.45467 3.9039C4.82109 4.27504 5.24052 4.70565 5.68455 5.16153C5.97361 5.4583 6.2731 5.76578 6.57518 6.07452C7.35822 5.28174 8.14192 4.50454 8.81601 3.88014C9.20251 3.52214 9.55904 3.20872 9.86244 2.96964C10.1465 2.74581 10.4405 2.54035 10.6878 2.45997C10.8757 2.39892 11.175 2.37219 11.4757 2.35598C11.677 2.34514 11.9071 2.33807 12.1558 2.33396L12.2127 0Z"
                  /></svg>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="playlist">
        <div class="playlist-bar">
          <div class="parallel-lines">
            <div></div>
            <div></div>
          </div>
          <h2 class="playlist-title" id="playlist">Playlist</h2>
          <div class="parallel-lines">
            <div></div>
            <div></div>
          </div>
        </div>
        <ul id="playlist-songs"></ul>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
```
</TabItem>

<TabItem value="css" label="styles.css">

```css
:root {
  /* colors */
  --primary-color: #dfdfe2;
  --secondary-color: #ffffff;
  --app-background-color: #4d4d62;
  --background-color: #1b1b32;
  --foreground-color: #3b3b4f;
  --highlight-color: #f1be32;

  /* font sizes */
  --root-font-size: 16px;
  font-size: var(--root-font-size);

  /* font-families */
  --font-headline: "Roboto Mono", monospace;
  --font-family: "Lato", sans-serif;
}

*,
*::after,
*::before {
  box-sizing: border-box;
}

body {
  background-color: var(--app-background-color);
  color: var(--primary-color);
  font-family: var(--font-family);
}

h1 {
  font-size: 1.125rem;
  line-height: 1.6;
}

h2 {
  font-size: var(--root-font-size);
}

ul {
  margin: 0;
}

.container {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  row-gap: 5px;
}

.player,
.playlist {
  width: 450px;
  background-color: var(--background-color);
  border: 3px solid var(--foreground-color);
}

.player {
  height: 260px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  row-gap: 10px;
}

.player-bar,
.playlist-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 5px;
  width: 100%;
  height: 30px;
  background-color: var(--foreground-color);
}

.parallel-lines {
  display: flex;
  flex-wrap: wrap;
  row-gap: 6px;
  padding: 0 5px;
}

.parallel-lines > div {
  height: 2px;
  width: 100%;
  min-width: 75px;
  background-color: var(--highlight-color);
}

.fcc-title,
.playlist-title {
  color: var(--secondary-color);
  margin: 0 10px;
  font-family: var(--font-headline);
}

.player-content {
  display: flex;
  background-color: var(--foreground-color);
  width: 430px;
  height: 200px;
  column-gap: 13px;
  align-items: center;
  justify-content: center;
}

#player-album-art {
  background-color: var(--secondary-color);
  border: 6px solid var(--background-color);
}

#player-album-art img {
  width: 150px;
  display: block;
}

.player-display {
  display: flex;
  flex-direction: column;
  row-gap: 20px;
  padding: 14px;
  background-color: var(--background-color);
  height: 153px;
  width: 226px;
}

.player-display-song-artist {
  height: 80px;
}

.player-buttons svg {
  fill: var(--primary-color);
}

.playing > svg {
  fill: var(--highlight-color);
}

.player-buttons {
  display: flex;
  justify-content: space-around;
}

button {
  background: transparent;
  border: none;
  color: var(--primary-color);
  cursor: pointer;
  font-size: var(--root-font-size);
  outline-color: var(--highlight-color);
  text-align: center;
}

.playlist-song {
  outline-color: var(--highlight-color);
}

.playlist li:not(:last-child) {
  border-bottom: 1px solid var(--background-color);
}

button:focus,
.playlist-song:focus {
  outline-style: dashed;
  outline-width: 2px;
}

/* Playlist */
.playlist {
  height: auto;
  padding: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  row-gap: 10px;
}

#playlist-songs {
  width: 430px;
  height: 100%;
  background-color: var(--foreground-color);
  display: flex;
  flex-direction: column;
  row-gap: 8px;
  padding: 8px 9px;
  visibility: visible;
  justify-content: start;
  list-style: none;
}

.playlist-song {
  display: flex;
  height: 55px;
  justify-content: space-between;
  align-items: center;
  padding: 5px;
}

[aria-current="true"] {
  background-color: var(--background-color);
}

[aria-current="true"] p {
  color: var(--highlight-color);
}

.playlist-song-info {
  height: 100%;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-around;
  column-gap: 7px;
  padding: 5px 0;
  font-family: var(--font-family);
}

#player-song-title,
#player-song-artist {
  margin: 0;
}

#player-song-artist {
  color: var(--highlight-color);
  font-size: 0.75rem;
}

#player-song-title {
  font-size: 1.125rem;
}

.playlist-song-title {
  font-size: 0.85rem;
  width: 241px;
  text-align: left;
}

.playlist-song-artist {
  font-size: 0.725rem;
  width: 80px;
}

.playlist-song-duration {
  font-size: 0.725rem;
  margin: auto;
  font-family: var(--font-headline);
  width: 30px;
}

.playlist-song-delete {
  padding: 0;
  width: 20px;
  height: 20px;
}

.playlist-song-delete,
.playlist-song-delete {
  fill: var(--foreground-color);
}

.playlist-song-delete:hover circle,
.playlist-song-delete:focus circle {
  fill: #ff0000;
}

@media (max-width: 700px) {
  .player,
  .playlist {
    width: 300px;
  }

  .player {
    height: 340px;
  }

  #playlist-songs {
    height: 280px;
    padding: 5px 6px;
    overflow-y: scroll;
    overflow-x: hidden;
    scrollbar-color: var(--background-color) var(--secondary-color);
    scrollbar-width: thin;
  }

  #playlist-songs::-webkit-scrollbar {
    width: 5px;
  }

  #playlist-songs::-webkit-scrollbar-track {
    background: var(--background-color);
  }

  #playlist-songs::-webkit-scrollbar-thumb {
    background: var(--secondary-color);
  }

  h1 {
    font-size: 0.813rem;
  }

  h2 {
    font-size: 0.75rem;
  }

  .player-bar,
  .playlist-bar,
  .player-content,
  #playlist-songs {
    width: 280px;
  }

  .playlist-song {
    justify-content: space-between;
  }

  .playlist-song-title {
    width: 140px;
  }

  .playlist-song-artist {
    width: 40px;
  }

  .playlist-song-duration > button {
    padding: 0;
  }

  .player-content {
    display: inline;
    position: relative;
    justify-items: center;
    height: 100%;
  }

  #player-album-art {
    z-index: -100;
    height: 280px;
    box-shadow: none;
    background: #000;
  }

  #player-album-art img {
    width: 100%;
    opacity: 0.6;
  }

  .player-display-song-artist {
    padding: 0 10px;
  }

  .player-display-song-artist > p {
    white-space: pre-wrap;
  }

  .player-display {
    position: absolute;
    width: 100%;
    z-index: 1000;
    background-color: transparent;
    top: 0;
    height: 280px;
    justify-content: space-between;
    text-align: center;
  }
}
```
</TabItem>

<TabItem value="js" label="script.js">

```js
const playlistSongs = document.getElementById("playlist-songs");
const playButton = document.getElementById("play");
const pauseButton = document.getElementById("pause");
const nextButton = document.getElementById("next");
const previousButton = document.getElementById("previous");
const shuffleButton = document.getElementById("shuffle");

const allSongs = [
  {
    id: 0,
    title: "Scratching The Surface",
    artist: "Quincy Larson",
    duration: "4:25",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/scratching-the-surface.mp3",
  },
  {
    id: 1,
    title: "Can't Stay Down",
    artist: "Quincy Larson",
    duration: "4:15",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/can't-stay-down.mp3",
  },
  {
    id: 2,
    title: "Still Learning",
    artist: "Quincy Larson",
    duration: "3:51",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/still-learning.mp3",
  },
  {
    id: 3,
    title: "Cruising for a Musing",
    artist: "Quincy Larson",
    duration: "3:34",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/cruising-for-a-musing.mp3",
  },
  {
    id: 4,
    title: "Never Not Favored",
    artist: "Quincy Larson",
    duration: "3:35",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/never-not-favored.mp3",
  },
  {
    id: 5,
    title: "From the Ground Up",
    artist: "Quincy Larson",
    duration: "3:12",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/from-the-ground-up.mp3",
  },
  {
    id: 6,
    title: "Walking on Air",
    artist: "Quincy Larson",
    duration: "3:25",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/walking-on-air.mp3",
  },
  {
    id: 7,
    title: "Can't Stop Me. Can't Even Slow Me Down.",
    artist: "Quincy Larson",
    duration: "3:52",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/cant-stop-me-cant-even-slow-me-down.mp3",
  },
  {
    id: 8,
    title: "The Surest Way Out is Through",
    artist: "Quincy Larson",
    duration: "3:10",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/the-surest-way-out-is-through.mp3",
  },
  {
    id: 9,
    title: "Chasing That Feeling",
    artist: "Quincy Larson",
    duration: "2:43",
    src: "https://cdn.freecodecamp.org/curriculum/js-music-player/chasing-that-feeling.mp3",
  },
];

const audio = new Audio();
let userData = {
  songs: [...allSongs],
  currentSong: null,
  songCurrentTime: 0,
};

const playSong = (id) => {
  const song = userData?.songs.find((song) => song.id === id);
  audio.src = song.src;
  audio.title = song.title;

  if (userData?.currentSong === null || userData?.currentSong.id !== song.id) {
    audio.currentTime = 0;
  } else {
    audio.currentTime = userData?.songCurrentTime;
  }
  userData.currentSong = song;
  playButton.classList.add("playing");

  highlightCurrentSong();
  setPlayerDisplay();
  setPlayButtonAccessibleText();
  audio.play();
};

const pauseSong = () => {
  userData.songCurrentTime = audio.currentTime;
  
  playButton.classList.remove("playing");
  audio.pause();
};

const playNextSong = () => {
  if (userData?.currentSong === null) {
    playSong(userData?.songs[0].id);
  } else {
    const currentSongIndex = getCurrentSongIndex();
    const nextSong = userData?.songs[currentSongIndex + 1];

    playSong(nextSong.id);
  }
};

const playPreviousSong = () => {
   if (userData?.currentSong === null) return;
   else {
    const currentSongIndex = getCurrentSongIndex();
    const previousSong = userData?.songs[currentSongIndex - 1];

    playSong(previousSong.id);
   }
};

const shuffle = () => {
  userData?.songs.sort(() => Math.random() - 0.5);
  userData.currentSong = null;
  userData.songCurrentTime = 0;

  renderSongs(userData?.songs);
  pauseSong();
  setPlayerDisplay();
  setPlayButtonAccessibleText();
};

const deleteSong = (id) => {
  if (userData?.currentSong?.id === id) {
    userData.currentSong = null;
    userData.songCurrentTime = 0;

    pauseSong();
    setPlayerDisplay();
  }

  userData.songs = userData?.songs.filter((song) => song.id !== id);
  renderSongs(userData?.songs); 
  highlightCurrentSong(); 
  setPlayButtonAccessibleText(); 

};

const setPlayerDisplay = () => {
  const playingSong = document.getElementById("player-song-title");
  const songArtist = document.getElementById("player-song-artist");
  const currentTitle = userData?.currentSong?.title;
  const currentArtist = userData?.currentSong?.artist;

  playingSong.textContent = currentTitle ? currentTitle : "";
  songArtist.textContent = currentArtist ? currentArtist : "";
};

const highlightCurrentSong = () => {
  const playlistSongElements = document.querySelectorAll(".playlist-song");
  const songToHighlight = document.getElementById(
    `song-${userData?.currentSong?.id}`
  );

  playlistSongElements.forEach((songEl) => {
    songEl.removeAttribute("aria-current");
  });

  if (songToHighlight) songToHighlight.setAttribute("aria-current", "true");
};

const renderSongs = (array) => {
  const songsHTML = array
    .map((song)=> {
      return `
      <li id="song-${song.id}" class="playlist-song">
      <button class="playlist-song-info" onclick="playSong(${song.id})">
          <span class="playlist-song-title">${song.title}</span>
          <span class="playlist-song-artist">${song.artist}</span>
          <span class="playlist-song-duration">${song.duration}</span>
      </button>
      <button onclick="deleteSong(${song.id})" class="playlist-song-delete" aria-label="Delete ${song.title}">
          <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#4d4d62"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.32587 5.18571C5.7107 4.90301 6.28333 4.94814 6.60485 5.28651L8 6.75478L9.39515 5.28651C9.71667 4.94814 10.2893 4.90301 10.6741 5.18571C11.059 5.4684 11.1103 5.97188 10.7888 6.31026L9.1832 7.99999L10.7888 9.68974C11.1103 10.0281 11.059 10.5316 10.6741 10.8143C10.2893 11.097 9.71667 11.0519 9.39515 10.7135L8 9.24521L6.60485 10.7135C6.28333 11.0519 5.7107 11.097 5.32587 10.8143C4.94102 10.5316 4.88969 10.0281 5.21121 9.68974L6.8168 7.99999L5.21122 6.31026C4.8897 5.97188 4.94102 5.4684 5.32587 5.18571Z" fill="white"/></svg>
        </button>
      </li>
      `;
    })
    .join("");

  playlistSongs.innerHTML = songsHTML;

  if (userData?.songs.length === 0) {
    const resetButton = document.createElement("button");
    const resetText = document.createTextNode("Reset Playlist");

    resetButton.id = "reset";
    resetButton.ariaLabel = "Reset playlist";
    resetButton.appendChild(resetText);
    playlistSongs.appendChild(resetButton);

    resetButton.addEventListener("click", () => {
      userData.songs = [...allSongs];

      renderSongs(sortSongs()); 
      setPlayButtonAccessibleText();
      resetButton.remove();
    });

  };

};

const setPlayButtonAccessibleText = () => {
  const song = userData?.currentSong || userData?.songs[0];

  playButton.setAttribute(
    "aria-label",
    song?.title ? `Play ${song.title}` : "Play"
  );
};

const getCurrentSongIndex = () => userData?.songs.indexOf(userData?.currentSong);

playButton.addEventListener("click", () => {
    if (userData?.currentSong === null) {
    playSong(userData?.songs[0].id);
  } else {
    playSong(userData?.currentSong.id);
  }
});

pauseButton.addEventListener("click",  pauseSong);

nextButton.addEventListener("click", playNextSong);

previousButton.addEventListener("click", playPreviousSong);

shuffleButton.addEventListener("click", shuffle);

audio.addEventListener("ended", () => {
  const currentSongIndex = getCurrentSongIndex();
  const nextSongExists = userData?.songs[currentSongIndex + 1] !== undefined;

    if (nextSongExists) {
      playNextSong();
    } else {
      userData.currentSong = null;
      userData.songCurrentTime = 0;  
      pauseSong();
      setPlayerDisplay();
      highlightCurrentSong();
      setPlayButtonAccessibleText();
    }
});

const sortSongs = () => {
  userData?.songs.sort((a,b) => {
    if (a.title < b.title) {
      return -1;
    }

    if (a.title > b.title) {
      return 1;
    }

    return 0;
  });

  return userData?.songs;
};

renderSongs(sortSongs());
setPlayButtonAccessibleText();
```

</TabItem> 

<TabItem value="commented" label="explained">

```html
<!DOCTYPE html>
<!-- üéØ HTML5 DECLARATION: "Welcome to our digital recording studio!" -->
<!-- It's like opening the doors to a homemade Spotify! üéß -->

<html lang="en">
<!-- üåç MAIN CONTAINER: Our music player -->
<!-- lang="en" = English, the universal language of digital music! üéº -->

  <head>
    <!-- üß† THE CONTROL CENTER: Where we set up the musical stage -->
    <!-- It's like preparing the instruments before the concert! -->
    
    <meta charset="UTF-8" />
    <!-- üìù UNIVERSAL CHARACTERS: UTF-8 for song titles in every language! üåê -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- üì± RESPONSIVE DESIGN: "The player adapts to every screen!" -->
    <!-- It's like having a walkman that transforms into a stereo! -->
    
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <!-- üî§ ROBOTO MONO FONT: Terminal/tech style -->
    <!-- display=swap = loads the font without blocking the page -->
    
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&family=Roboto+Mono&display=swap"
      rel="stylesheet"
    />
    <!-- üî§ LATO FONT: For readable text -->
    <!-- Duplicates Roboto+Mono but adds Lato -->
    
    <title>
      Learn Basic String and Array Methods by Building a Music Player App
    </title>
    <!-- üìë TITLE: An educational freeCodeCamp project! -->
    
    <style>
      /* üé® ===== THE PLAYER DESIGN SYSTEM ===== */
      
      :root {
        /* üé® ===== COLORS: The Music Player Palette ===== */
        --primary-color: #dfdfe2;
        /* üîò LIGHT GRAY: For main text on a dark background */
        
        --secondary-color: #ffffff;
        /* ‚ö™ PURE WHITE: For maximum-contrast elements */
        
        --app-background-color: #4d4d62;
        /* üåë MEDIUM GRAY: The overall app background */
        
        --background-color: #1b1b32;
        /* ‚ö´ VERY DARK BLUE: For the main components */
        
        --foreground-color: #3b3b4f;
        /* üîò BLUE-GRAY: For secondary elements/content */
        
        --highlight-color: #f1be32;
        /* üü° GOLD YELLOW: The attention-grabbing color! */
        /* Used for active and important elements */
      
        /* üìè ===== FONT SIZES ===== */
        --root-font-size: 16px;
        /* üìê BASE: 16px is the standard for the web */
        
        font-size: var(--root-font-size);
        /* üîß APPLY: Set on root for rem calculations */
      
        /* üî§ ===== FONT FAMILIES ===== */
        --font-headline: "Roboto Mono", monospace;
        /* üíª MONOSPACE: For tech/retro titles */
        /* monospace = fallback if Roboto Mono doesn't load */
        
        --font-family: "Lato", sans-serif;
        /* üìñ SANS-SERIF: Clean for the main content */
      }
      
      /* üîÑ ===== UNIVERSAL RESET ===== */
      
      *,
      *::after,
      *::before {
        box-sizing: border-box;
        /* üì¶ BORDER-BOX: Includes padding and borders in dimensions */
        /* Also applied to pseudo-elements! */
        /* It's like saying "the box includes all the content" */
      }
      
      body {
        background-color: var(--app-background-color);
        /* üé® BACKGROUND: Medium gray from the app */
        
        color: var(--primary-color);
        /* üî§ TEXT COLOR: Light gray for contrast */
        
        font-family: var(--font-family);
        /* üìù FONT: Lato for the whole body */
      }
      
      /* üì∞ ===== HEADINGS ===== */
      
      h1 {
        font-size: 1.125rem;
        /* üìè SIZE: 1.125 √ó 16px = 18px */
        
        line-height: 1.6;
        /* üìê LINE HEIGHT: 1.6 times the font height */
      }
      
      h2 {
        font-size: var(--root-font-size);
        /* üìè SIZE: Same as root (16px) */
      }
      
      ul {
        margin: 0;
        /* üö´ NO MARGIN: Reset the browser default */
      }
      
      /* üì¶ ===== MAIN CONTAINER ===== */
      
      .container {
        margin-top: 10px;
        /* ‚¨ÜÔ∏è TOP MARGIN: Small space from the edge */
        
        display: flex;
        /* üéØ FLEXBOX: Modern layout */
        
        flex-direction: column;
        /* üì¶ DIRECTION: Elements stacked vertically */
        
        justify-content: center;
        /* ‚öñÔ∏è CENTER VERTICALLY: In the container */
        
        align-items: center;
        /* ‚öñÔ∏è CENTER HORIZONTALLY: All elements */
        
        row-gap: 5px;
        /* üåâ SPACE: 5px between player and playlist */
      }
      
      /* üéß ===== PLAYER AND PLAYLIST BASE ===== */
      
      .player,
      .playlist {
        width: 450px;
        /* üìè WIDTH: Fixed at 450px */
        
        background-color: var(--background-color);
        /* üé® BACKGROUND: Very dark blue */
        
        border: 3px solid var(--foreground-color);
        /* üñºÔ∏è BORDER: 3px solid blue-gray */
      }
      
      /* üéµ ===== SPECIFIC PLAYER ===== */
      
      .player {
        height: 260px;
        /* üìè HEIGHT: Fixed for the player */
        
        padding: 10px;
        /* üè† PADDING: Inner breathing room */
        
        display: flex;
        /* üéØ FLEX: To align the contents */
        
        flex-direction: column;
        /* üì¶ COLUMN: Vertical elements */
        
        align-items: center;
        /* ‚öñÔ∏è CENTER: Horizontally */
        
        row-gap: 10px;
        /* üåâ SPACE: Between inner elements */
      }
      
      /* üéØ ===== TOP BARS ===== */
      
      .player-bar,
      .playlist-bar {
        display: flex;
        /* üéØ FLEX: Horizontal layout */
        
        justify-content: space-between;
        /* ‚öñÔ∏è SPACE BETWEEN: Elements at the extremes */
        
        align-items: center;
        /* üìê ALIGN: Vertically centered */
        
        padding: 0 5px;
        /* ‚ÜîÔ∏è PADDING: Horizontal only */
        
        width: 100%;
        /* üìè WIDTH: Full available */
        
        height: 30px;
        /* üìè HEIGHT: Fixed at 30px */
        
        background-color: var(--foreground-color);
        /* üé® BACKGROUND: Blue-gray */
      }
      
      /* üìä ===== DECORATIVE LINES ===== */
      
      .parallel-lines {
        display: flex;
        /* üéØ FLEX: For the lines */
        
        flex-wrap: wrap;
        /* üîÑ WRAP: Wraps if needed */
        
        row-gap: 6px;
        /* üåâ SPACE: Between the lines */
        
        padding: 0 5px;
        /* ‚ÜîÔ∏è PADDING: Horizontal */
      }
      
      .parallel-lines > div {
        height: 2px;
        /* üìè HEIGHT: Thin lines */
        
        width: 100%;
        /* üìè WIDTH: Full available */
        
        min-width: 75px;
        /* üìè MINIMUM: No narrower than 75px */
        
        background-color: var(--highlight-color);
        /* üü° COLOR: Gold yellow to stand out */
      }
      
      /* üî§ ===== TITLES IN THE PLAYER ===== */
      
      .fcc-title,
      .playlist-title {
        color: var(--secondary-color);
        /* ‚ö™ COLOR: White for contrast */
        
        margin: 0 10px;
        /* ‚ÜîÔ∏è MARGINS: Side breathing room */
        
        font-family: var(--font-headline);
        /* üíª FONT: Roboto Mono for a tech style */
      }
      
      /* üéº ===== PLAYER CONTENT ===== */
      
      .player-content {
        display: flex;
        /* üéØ FLEX: For cover and controls */
        
        background-color: var(--foreground-color);
        /* üé® BACKGROUND: Blue-gray */
        
        width: 430px;
        /* üìè WIDTH: Slightly less than the container */
        
        height: 200px;
        /* üìè HEIGHT: To fit everything */
        
        column-gap: 13px;
        /* üåâ SPACE: Between cover and controls */
        
        align-items: center;
        /* üìê ALIGN: Vertically */
        
        justify-content: center;
        /* ‚öñÔ∏è CENTER: Horizontally */
      }
      
      /* üñºÔ∏è ===== ALBUM ART ===== */
      
      #player-album-art {
        background-color: var(--secondary-color);
        /* ‚ö™ BACKGROUND: White base */
        
        border: 6px solid var(--background-color);
        /* üñºÔ∏è FRAME: 6px dark blue */
      }
      
      #player-album-art img {
        width: 150px;
        /* üìè WIDTH: 150x150 square */
        
        display: block;
        /* üì¶ BLOCK: Removes inline spacing */
      }
      
      /* üìü ===== PLAYER DISPLAY ===== */
      
      .player-display {
        display: flex;
        /* üéØ FLEX: To organize info */
        
        flex-direction: column;
        /* üì¶ COLUMN: Info on top, controls below */
        
        row-gap: 20px;
        /* üåâ SPACE: Between info and controls */
        
        padding: 14px;
        /* üè† PADDING: Inner breathing room */
        
        background-color: var(--background-color);
        /* üé® BACKGROUND: Very dark blue */
        
        height: 153px;
        /* üìè HEIGHT: Specific */
        
        width: 226px;
        /* üìè WIDTH: To fit everything */
      }
      
      /* üé§ ===== SONG INFO ===== */
      
      .player-display-song-artist {
        height: 80px;
        /* üìè HEIGHT: Space for title and artist */
      }
      
      /* üéÆ ===== PLAYER BUTTONS ===== */
      
      .player-buttons svg {
        fill: var(--primary-color);
        /* üé® SVG COLOR: Light gray by default */
      }
      
      .playing > svg {
        fill: var(--highlight-color);
        /* üü° ACTIVE COLOR: Yellow when playing */
      }
      
      .player-buttons {
        display: flex;
        /* üéØ FLEX: Buttons in a row */
        
        justify-content: space-around;
        /* ‚öñÔ∏è EVEN SPACE: Between buttons */
      }
      
      /* üîò ===== BUTTON STYLE ===== */
      
      button {
        background: transparent;
        /* üö´ NO BACKGROUND: Transparent */
        
        border: none;
        /* üö´ NO BORDER: Clean */
        
        color: var(--primary-color);
        /* üî§ COLOR: Light gray */
        
        cursor: pointer;
        /* üëÜ CURSOR: Hand on hover */
        
        font-size: var(--root-font-size);
        /* üìè SIZE: Standard 16px */
        
        outline-color: var(--highlight-color);
        /* üü° OUTLINE: Yellow for focus */
        
        text-align: center;
        /* ‚öñÔ∏è TEXT: Centered */
      }
      
      /* üéµ ===== SONGS IN THE PLAYLIST ===== */
      
      .playlist-song {
        outline-color: var(--highlight-color);
        /* üü° OUTLINE: Yellow for keyboard focus */
      }
      
      .playlist li:not(:last-child) {
        border-bottom: 1px solid var(--background-color);
        /* üìè BORDER: Separates the songs */
        /* :not(:last-child) = all except the last */
      }
      
      /* üéØ ===== FOCUS STATES ===== */
      
      button:focus,
      .playlist-song:focus {
        outline-style: dashed;
        /* üî≤ STYLE: Dashed */
        
        outline-width: 2px;
        /* üìè THICKNESS: 2px visible */
      }
      
      /* üìã ===== PLAYLIST CONTAINER ===== */
      
      .playlist {
        height: auto;
        /* üìè HEIGHT: Adapts to content */
        
        padding: 10px;
        /* üè† PADDING: Inner breathing room */
        
        display: flex;
        /* üéØ FLEX: Modern layout */
        
        flex-direction: column;
        /* üì¶ COLUMN: Vertical elements */
        
        align-items: center;
        /* ‚öñÔ∏è CENTER: Horizontally */
        
        row-gap: 10px;
        /* üåâ SPACE: Between elements */
      }
      
      /* üìú ===== SONG LIST ===== */
      
      #playlist-songs {
        width: 430px;
        /* üìè WIDTH: Same as player content */
        
        height: 100%;
        /* üìè HEIGHT: Full available space */
        
        background-color: var(--foreground-color);
        /* üé® BACKGROUND: Blue-gray */
        
        display: flex;
        /* üéØ FLEX: For the songs */
        
        flex-direction: column;
        /* üì¶ COLUMN: Songs stacked vertically */
        
        row-gap: 8px;
        /* üåâ SPACE: Between songs */
        
        padding: 8px 9px;
        /* üè† PADDING: Asymmetric for design */
        
        visibility: visible;
        /* üëÅÔ∏è VISIBILITY: Explicitly visible */
        
        justify-content: start;
        /* ‚¨ÜÔ∏è ALIGN: From the top */
        
        list-style: none;
        /* üö´ NO BULLETS: Clean list */
      }
      
      /* üéµ ===== SINGLE SONG ===== */
      
      .playlist-song {
        display: flex;
        /* üéØ FLEX: For info and buttons */
        
        height: 55px;
        /* üìè HEIGHT: Fixed for consistency */
        
        justify-content: space-between;
        /* ‚öñÔ∏è SPACE: Info left, delete right */
        
        align-items: center;
        /* üìê ALIGN: Vertically */
        
        padding: 5px;
        /* üè† PADDING: Small breathing room */
      }
      
      /* üéØ ===== CURRENT SONG ===== */
      
      [aria-current="true"] {
        background-color: var(--background-color);
        /* üé® BACKGROUND: Dark blue to highlight */
      }
      
      [aria-current="true"] p {
        color: var(--highlight-color);
        /* üü° TEXT: Yellow for the active song */
      }
      
      /* üìù ===== SONG INFO IN THE PLAYLIST ===== */
      
      .playlist-song-info {
        height: 100%;
        /* üìè HEIGHT: Full available */
        
        display: flex;
        /* üéØ FLEX: To align info */
        
        flex-direction: row;
        /* ‚û°Ô∏è ROW: Info horizontally */
        
        align-items: center;
        /* üìê ALIGN: Vertically */
        
        justify-content: space-around;
        /* ‚öñÔ∏è SPACE: Evenly distributed */
        
        column-gap: 7px;
        /* üåâ SPACE: Between info */
        
        padding: 5px 0;
        /* üè† PADDING: Vertical only */
        
        font-family: var(--font-family);
        /* üî§ FONT: Lato for readability */
      }
      
      /* üé§ ===== TITLE AND ARTIST IN THE PLAYER ===== */
      
      #player-song-title,
      #player-song-artist {
        margin: 0;
        /* üö´ NO MARGINS: Default reset */
      }
      
      #player-song-artist {
        color: var(--highlight-color);
        /* üü° COLOR: Yellow for the artist */
        
        font-size: 0.75rem;
        /* üìè SIZE: 0.75 √ó 16px = 12px */
      }
      
      #player-song-title {
        font-size: 1.125rem;
        /* üìè SIZE: 1.125 √ó 16px = 18px */
      }
      
      /* üìã ===== PLAYLIST ITEMS ===== */
      
      .playlist-song-title {
        font-size: 0.85rem;
        /* üìè SIZE: 0.85 √ó 16px = 13.6px */
        
        width: 241px;
        /* üìè WIDTH: Fixed for alignment */
        
        text-align: left;
        /* ‚¨ÖÔ∏è ALIGN: Left */
      }
      
      .playlist-song-artist {
        font-size: 0.725rem;
        /* üìè SIZE: 0.725 √ó 16px = 11.6px */
        
        width: 80px;
        /* üìè WIDTH: Narrower */
      }
      
      .playlist-song-duration {
        font-size: 0.725rem;
        /* üìè SIZE: Same as the artist */
        
        margin: auto;
        /* ‚öñÔ∏è MARGINS: Auto to center */
        
        font-family: var(--font-headline);
        /* üíª FONT: Monospace for numbers */
        
        width: 30px;
        /* üìè WIDTH: For mm:ss */
      }
      
      /* üóëÔ∏è ===== DELETE BUTTON ===== */
      
      .playlist-song-delete {
        padding: 0;
        /* üö´ NO PADDING: Compact button */
        
        width: 20px;
        height: 20px;
        /* üìè DIMENSIONS: 20x20 square */
      }
      
      .playlist-song-delete,
      .playlist-song-delete {
        fill: var(--foreground-color);
        /* üé® SVG COLOR: Blue-gray */
        /* ‚ö†Ô∏è Duplicate selector! */
      }
      
      /* üóëÔ∏è ===== HOVER ON DELETE ===== */
      
      .playlist-song-delete:hover circle,
      .playlist-song-delete:focus circle {
        fill: #ff0000;
        /* üî¥ RED: To indicate danger/delete */
      }
      
      /* üì± ===== MOBILE MEDIA QUERY ===== */
      
      @media (max-width: 700px) {
        /* üì± MOBILE: Under 700px */
        
        .player,
        .playlist {
          width: 300px;
          /* üìè REDUCED WIDTH: From 450px to 300px */
        }
      
        .player {
          height: 340px;
          /* üìè INCREASED HEIGHT: For vertical layout */
        }
      
        #playlist-songs {
          height: 280px;
          /* üìè FIXED HEIGHT: For scroll */
          
          padding: 5px 6px;
          /* üè† PADDING: Reduced */
          
          overflow-y: scroll;
          /* üìú VERTICAL SCROLL: When needed */
          
          overflow-x: hidden;
          /* üö´ NO HORIZONTAL SCROLL: Never */
          
          scrollbar-color: var(--background-color) var(--secondary-color);
          /* üé® SCROLLBAR COLORS: For Firefox */
          
          scrollbar-width: thin;
          /* üìè THIN SCROLLBAR: For Firefox */
        }
      
        /* üìú ===== WEBKIT SCROLLBAR (Chrome/Safari) ===== */
        
        #playlist-songs::-webkit-scrollbar {
          width: 5px;
          /* üìè WIDTH: Thin scrollbar */
        }
      
        #playlist-songs::-webkit-scrollbar-track {
          background: var(--background-color);
          /* üé® TRACK BACKGROUND: Dark blue */
        }
      
        #playlist-songs::-webkit-scrollbar-thumb {
          background: var(--secondary-color);
          /* üé® THUMB: White for contrast */
        }
      
        /* üìè ===== MOBILE TEXT SIZES ===== */
        
        h1 {
          font-size: 0.813rem;
          /* üìè SMALLER: 0.813 √ó 16px = 13px */
        }
      
        h2 {
          font-size: 0.75rem;
          /* üìè SMALLER: 0.75 √ó 16px = 12px */
        }
      
        /* üìê ===== MOBILE WIDTHS ===== */
        
        .player-bar,
        .playlist-bar,
        .player-content,
        #playlist-songs {
          width: 280px;
          /* üìè WIDTH: Uniform for all */
        }
      
        .playlist-song {
          justify-content: space-between;
          /* ‚öñÔ∏è SPACE: Maximizes space */
        }
      
        .playlist-song-title {
          width: 140px;
          /* üìè REDUCED: From 241px to 140px */
        }
      
        .playlist-song-artist {
          width: 40px;
          /* üìè REDUCED: From 80px to 40px */
        }
      
        .playlist-song-duration > button {
          padding: 0;
          /* üö´ NO PADDING: Precious space! */
        }
      
        /* üéµ ===== MOBILE PLAYER CONTENT ===== */
        
        .player-content {
          display: inline;
          /* üì¶ INLINE: Completely changes! */
          
          position: relative;
          /* üìç RELATIVE: To position children */
          
          justify-items: center;
          /* ‚öñÔ∏è CENTER: The elements (not standard) */
          
          height: 100%;
          /* üìè HEIGHT: Full space */
        }
      
        /* üñºÔ∏è ===== MOBILE ALBUM ART ===== */
        
        #player-album-art {
          z-index: -100;
          /* üìö LEVEL: Under everything! */
          
          height: 280px;
          /* üìè HEIGHT: Much larger */
          
          box-shadow: none;
          /* üö´ NO SHADOW: Clean */
          
          background: #000;
          /* ‚ö´ BACKGROUND: Black for contrast */
        }
      
        #player-album-art img {
          width: 100%;
          /* üìè WIDTH: Fill the container */
          
          opacity: 0.6;
          /* üëª TRANSPARENCY: 60% for overlay effect */
        }
      
        .player-display-song-artist {
          padding: 0 10px;
          /* ‚ÜîÔ∏è PADDING: Side only */
        }
      
        .player-display-song-artist > p {
          white-space: pre-wrap;
          /* üìù TEXT: Preserves spaces and wraps */
        }
      
        /* üìü ===== MOBILE DISPLAY OVERLAY ===== */
        
        .player-display {
          position: absolute;
          /* üéØ ABSOLUTE: Overlaid on the image! */
          
          width: 100%;
          /* üìè WIDTH: Full container */
          
          z-index: 1000;
          /* üìö LEVEL: Above the image */
          
          background-color: transparent;
          /* üö´ TRANSPARENT: See the image underneath */
          
          top: 0;
          /* üìç POSITION: From the top */
          
          height: 280px;
          /* üìè HEIGHT: Same as the image */
          
          justify-content: space-between;
          /* ‚öñÔ∏è SPACE: Info top, controls bottom */
          
          text-align: center;
          /* ‚öñÔ∏è TEXT: All centered */
        }
      }
    </style>
  </head>

  <body>
    <!-- üéµ ===== THE MUSIC PLAYER COMES TO LIFE! ===== -->
    
    <div class="container">
      <!-- üì¶ CONTAINER: The main wrapper that contains everything -->
      <!-- Uses flexbox to stack player and playlist vertically -->
      
      <div class="player">
        <!-- üéß PLAYER: The actual music player -->
        <!-- Contains: top bar, content (cover + controls) -->
        
        <div class="player-bar">
          <!-- üéØ TOP BAR: Retro style with freeCodeCamp logo -->
          
          <div class="parallel-lines">
            <!-- üìä LEFT DECORATIVE LINES: Cassette tape style! -->
            <div></div>
            <!-- üìè LINE 1: Just an empty div styled with CSS -->
            <div></div>
            <!-- üìè LINE 2: Creates the vintage effect -->
          </div>
          
          <h1 class="fcc-title">freeCodeCamp</h1>
          <!-- üè´ LOGO: The brand of the educational project -->
          <!-- Monospace font for a tech look -->
          
          <div class="parallel-lines">
            <!-- üìä RIGHT DECORATIVE LINES: Symmetric -->
            <div></div>
            <div></div>
          </div>
        </div>
        
        <div class="player-content">
          <!-- üéº MAIN CONTENT: Album cover + info display -->
          
          <div id="player-album-art">
            <!-- üñºÔ∏è IMAGE CONTAINER: For the cover -->
            <img
              src="https://cdn.freecodecamp.org/curriculum/js-music-player/quincy-larson-album-art.jpg"
              alt="song cover art"
            />
            <!-- üì∏ COVER: Quincy Larson's album image -->
            <!-- alt for accessibility -->
          </div>
          
          <div class="player-display">
            <!-- üìü INFO DISPLAY: Shows song info and controls -->
            
            <div class="player-display-song-artist">
              <!-- üé§ INFO CONTAINER: For title and artist -->
              <p id="player-song-title"></p>
              <!-- üéµ TITLE: Empty, filled via JS -->
              <p id="player-song-artist"></p>
              <!-- üé§ ARTIST: Also filled via JS -->
            </div>
            
            <div class="player-buttons">
              <!-- üéÆ PLAYBACK CONTROLS: Our buttons -->
              
              <button id="previous" class="previous" aria-label="Previous">
                <!-- ‚èÆÔ∏è PREVIOUS: Go back to the previous song -->
                <svg
                  width="24"
                  height="19"
                  viewBox="0 0 24 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <!-- üé® SVG PATH: Draws triangle + rectangle -->
                  <path d="M23.2248 0L7.03964 9.5L23.2248 19L23.2248 0Z" />
                  <!-- üî∫ TRIANGLE: Points to the left -->
                  <rect
                    width="4.63633"
                    height="18.5453"
                    transform="matrix(-1 0 0 1 4.63633 0)"
                  />
                  <!-- ‚è∏Ô∏è BAR: To the left of the triangle -->
                </svg>
              </button>
              
              <button id="play" class="play" aria-label="Play">
                <!-- ‚ñ∂Ô∏è PLAY: Starts playback -->
                <svg
                  width="17"
                  height="19"
                  viewBox="0 0 17 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0 0L16.1852 9.5L1.88952e-07 19L0 0Z" />
                  <!-- üî∫ PLAY TRIANGLE: Classic triangular shape -->
                </svg>
              </button>
              
              <button id="pause" class="pause" aria-label="Pause">
                <!-- ‚è∏Ô∏è PAUSE: Pauses playback -->
                <svg
                  width="17"
                  height="19"
                  viewBox="0 0 17 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0 6.54013e-07H4.75V19H0V6.54013e-07Z" />
                  <!-- ‚è∏Ô∏è BAR 1: First vertical bar -->
                  <path d="M11.4 0H16.15V19H11.4V0Z" />
                  <!-- ‚è∏Ô∏è BAR 2: Second vertical bar -->
                </svg>
              </button>
              
              <button id="next" class="next" aria-label="Next">
                <!-- ‚è≠Ô∏è NEXT: Next song -->
                <svg
                  width="24"
                  height="19"
                  viewBox="0 0 24 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M0 0L16.1852 9.5L1.88952e-07 19L0 0Z" />
                  <!-- üî∫ TRIANGLE: Points to the right -->
                  <rect x="18.5885" width="4.63633" height="18.5453" />
                  <!-- ‚è∏Ô∏è BAR: To the right of the triangle -->
                </svg>
              </button>
              
              <button id="shuffle" class="shuffle" aria-label="Shuffle">
                <!-- üîÄ SHUFFLE: Random playback -->
                <svg
                  width="17"
                  height="14"
                  viewBox="0 0 17 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M12.2127 0L17 2.9219L12.0759 5.60686L12.1321 3.30594C11.9081 3.30997 11.7043 3.3165 11.528 3.326C11.3777 3.3341 11.2523 3.34411 11.1542 3.35578C11.1053 3.3616 11.0661 3.36749 11.036 3.37309C11.0211 3.37587 11.0095 3.37835 11.001 3.38041C10.9967 3.38143 10.9936 3.38227 10.9913 3.38289C10.989 3.38352 10.988 3.38385 10.9881 3.38382C10.9266 3.40381 10.7572 3.5014 10.4637 3.73265C10.1895 3.94866 9.85452 4.24234 9.47614 4.59282C8.81462 5.20556 8.03912 5.97461 7.25609 6.76752C8.03912 7.56043 8.81462 8.32948 9.47614 8.94223C9.85452 9.29271 10.1895 9.58639 10.4637 9.80239C10.7572 10.0336 10.9266 10.1312 10.9881 10.1512C10.988 10.1512 10.989 10.1515 10.9913 10.1522C10.9936 10.1528 10.9967 10.1536 11.001 10.1546C11.0095 10.1567 11.0211 10.1592 11.036 10.162C11.0661 10.1676 11.1053 10.1734 11.1542 10.1793C11.2523 10.1909 11.3777 10.2009 11.528 10.209C11.7043 10.2185 11.9081 10.2251 12.1321 10.2291L12.0759 7.92819L17 10.6131L12.2127 13.535L12.1558 11.2011C11.9071 11.197 11.677 11.1899 11.4757 11.1791C11.175 11.1629 10.8757 11.1361 10.6878 11.0751C10.4405 10.9947 10.1465 10.7892 9.86244 10.5654C9.55904 10.3263 9.20251 10.0129 8.81601 9.6549C8.14192 9.03051 7.35822 8.2533 6.57518 7.46052C6.2731 7.76927 5.9736 8.07675 5.68453 8.37353C5.24051 8.8294 4.82109 9.26001 4.45467 9.63114C4.10458 9.98574 3.79502 10.2941 3.54834 10.5285C3.42516 10.6455 3.31437 10.7473 3.22005 10.8285C3.13287 10.9035 3.03686 10.9812 2.94938 11.0324C2.46156 11.3178 1.79381 11.3751 1.32395 11.3812C1.07514 11.3845 0.852462 11.3732 0.692065 11.3611C0.611577 11.3551 0.546037 11.3488 0.499864 11.344C0.476761 11.3415 0.458455 11.3394 0.445496 11.3379L0.43012 11.336L0.425557 11.3355L0.423542 11.3352C0.423448 11.3352 0.423143 11.3352 0.485767 10.8535L0.423542 11.3352C0.157529 11.3006 -0.0304782 11.0569 0.00410824 10.7909C0.0386807 10.525 0.282182 10.3374 0.548069 10.3718C0.548087 10.3718 0.548051 10.3718 0.548069 10.3718L0.549944 10.372L0.559616 10.3732C0.568682 10.3743 0.582871 10.3759 0.60165 10.3779C0.639243 10.3818 0.695017 10.3872 0.764728 10.3924C0.90473 10.4029 1.09799 10.4127 1.31133 10.4099C1.76571 10.404 2.20705 10.3412 2.4587 10.194C2.45847 10.1941 2.4583 10.1942 2.4587 10.194C2.46075 10.1926 2.47161 10.1855 2.49271 10.1693C2.51674 10.1508 2.54777 10.1254 2.58634 10.0922C2.66358 10.0258 2.7615 9.93612 2.87917 9.82431C3.11419 9.60097 3.41488 9.30164 3.76339 8.94864C4.1317 8.57559 4.54478 8.15147 4.98424 7.70025C5.27761 7.39904 5.58273 7.08575 5.89415 6.76752C5.58272 6.44928 5.27759 6.13598 4.98421 5.83476C4.54476 5.38355 4.1317 4.95944 3.76339 4.5864C3.41488 4.2334 3.11419 3.93407 2.87917 3.71074C2.7615 3.59892 2.66358 3.50929 2.58634 3.44281C2.54777 3.40961 2.51674 3.38425 2.49271 3.36577C2.4716 3.34954 2.46099 3.34258 2.45894 3.34123C2.45868 3.34108 2.45853 3.34096 2.45894 3.34123C2.2073 3.19405 1.76572 3.13106 1.31133 3.12515C1.09799 3.12238 0.90473 3.13211 0.764728 3.14261C0.695017 3.14784 0.639243 3.15321 0.60165 3.15717C0.582871 3.15915 0.568682 3.16077 0.559616 3.16184L0.549944 3.16301L0.548391 3.1632C0.282436 3.1977 0.0386882 3.01013 0.00410824 2.74417C-0.0304782 2.47816 0.15713 2.23447 0.423143 2.19989L0.485767 2.68154C0.423143 2.19989 0.423048 2.1999 0.423143 2.19989L0.425557 2.19958L0.43012 2.199L0.445496 2.19714C0.458455 2.19561 0.476761 2.19352 0.499864 2.19109C0.546037 2.18622 0.611577 2.17995 0.692065 2.17391C0.852462 2.16188 1.07514 2.15058 1.32395 2.15381C1.79381 2.15992 2.46156 2.21726 2.94938 2.50267C3.03686 2.55385 3.13287 2.63152 3.22005 2.70655C3.31437 2.78773 3.42516 2.8895 3.54834 3.00655C3.79502 3.24097 4.10458 3.54931 4.45467 3.9039C4.82109 4.27504 5.24052 4.70565 5.68455 5.16153C5.97361 5.4583 6.2731 5.76578 6.57518 6.07452C7.35822 5.28174 8.14192 4.50454 8.81601 3.88014C9.20251 3.52214 9.55904 3.20872 9.86244 2.96964C10.1465 2.74581 10.4405 2.54035 10.6878 2.45997C10.8757 2.39892 11.175 2.37219 11.4757 2.35598C11.677 2.34514 11.9071 2.33807 12.1558 2.33396L12.2127 0Z"
                  />
                  <!-- üîÄ COMPLEX PATH: Draws the shuffle criss-cross arrows -->
                  <!-- It's the most complex SVG path of all! -->
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="playlist">
        <!-- üìã PLAYLIST: The list of available songs -->
        
        <div class="playlist-bar">
          <!-- üéØ PLAYLIST BAR: Playlist header -->
          
          <div class="parallel-lines">
            <!-- üìä LEFT LINES: Decorative -->
            <div></div>
            <div></div>
          </div>
          
          <h2 class="playlist-title" id="playlist">Playlist</h2>
          <!-- üìã TITLE: "Playlist" with monospace font -->
          
          <div class="parallel-lines">
            <!-- üìä RIGHT LINES: Symmetric -->
            <div></div>
            <div></div>
          </div>
        </div>
        
        <ul id="playlist-songs"></ul>
        <!-- üìú SONG LIST: Empty! It will be populated via JavaScript -->
        <!-- This is where JS magic will insert all the songs -->
      </div>
    </div>
    
    <script>
      // üéÆ ===== THE BRAIN OF THE MUSIC PLAYER: JavaScript! =====
      
      // üìç ===== DOM ELEMENT SELECTION =====
      const playlistSongs = document.getElementById("playlist-songs");
      // üìú PLAYLIST UL: Where we will insert the songs
      
      const playButton = document.getElementById("play");
      // ‚ñ∂Ô∏è PLAY BUTTON: To start playback
      
      const pauseButton = document.getElementById("pause");
      // ‚è∏Ô∏è PAUSE BUTTON: To pause
      
      const nextButton = document.getElementById("next");
      // ‚è≠Ô∏è NEXT BUTTON: Next song
      
      const previousButton = document.getElementById("previous");
      // ‚èÆÔ∏è PREVIOUS BUTTON: Previous song
      
      const shuffleButton = document.getElementById("shuffle");
      // üîÄ SHUFFLE BUTTON: Shuffles the playlist
      
      // üéµ ===== SONG DATABASE =====
      const allSongs = [
        {
          id: 0,
          title: "Scratching The Surface",
          artist: "Quincy Larson",
          duration: "4:25",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/scratching-the-surface.mp3",
        },
        // üéµ SONG 1: Object with all properties
        // id = unique identifier for management
        // title = title to display
        // artist = artist name
        // duration = duration formatted mm:ss
        // src = URL of the MP3 file
        
        {
          id: 1,
          title: "Can't Stay Down",
          artist: "Quincy Larson",
          duration: "4:15",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/can't-stay-down.mp3",
        },
        // üéµ SONG 2: Notice the apostrophe in the URL!
        
        {
          id: 2,
          title: "Still Learning",
          artist: "Quincy Larson",
          duration: "3:51",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/still-learning.mp3",
        },
        
        {
          id: 3,
          title: "Cruising for a Musing",
          artist: "Quincy Larson",
          duration: "3:34",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/cruising-for-a-musing.mp3",
        },
        
        {
          id: 4,
          title: "Never Not Favored",
          artist: "Quincy Larson",
          duration: "3:35",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/never-not-favored.mp3",
        },
        
        {
          id: 5,
          title: "From the Ground Up",
          artist: "Quincy Larson",
          duration: "3:12",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/from-the-ground-up.mp3",
        },
        
        {
          id: 6,
          title: "Walking on Air",
          artist: "Quincy Larson",
          duration: "3:25",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/walking-on-air.mp3",
        },
        
        {
          id: 7,
          title: "Can't Stop Me. Can't Even Slow Me Down.",
          artist: "Quincy Larson",
          duration: "3:52",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/cant-stop-me-cant-even-slow-me-down.mp3",
        },
        // üéµ SONG 8: Long title with periods!
        
        {
          id: 8,
          title: "The Surest Way Out is Through",
          artist: "Quincy Larson",
          duration: "3:10",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/the-surest-way-out-is-through.mp3",
        },
        
        {
          id: 9,
          title: "Chasing That Feeling",
          artist: "Quincy Larson",
          duration: "2:43",
          src: "https://cdn.freecodecamp.org/curriculum/js-music-player/chasing-that-feeling.mp3",
        },
        // üéµ LAST SONG: The shortest one (2:43)
      ];
      
      // üîä ===== HTML5 AUDIO OBJECT =====
      const audio = new Audio();
      // üéß AUDIO API: Creates an invisible audio element
      // new Audio() = constructor to create an audio player
      // It doesn't need to be in the DOM to work!
      
      // üë§ ===== USER STATE =====
      let userData = {
        songs: [...allSongs],
        // üìö ARRAY COPY: Spread operator copies all elements
        // [...array] = creates new array with the same elements
        // So we can modify it without touching the original
        
        currentSong: null,
        // üéµ CURRENT SONG: null = none selected
        // Will hold the song object being played
        
        songCurrentTime: 0,
        // ‚è±Ô∏è SAVED TIME: To resume from where it was
        // In seconds, saved when pausing
      };
      
      // üéµ ===== PLAY SONG FUNCTION =====
      const playSong = (id) => {
        // üéØ PARAMETER: id of the song to play
        
        const song = userData?.songs.find((song) => song.id === id);
        // üîç FIND: Looks for the song with this ID
        // ?. = optional chaining: if userData doesn't exist, it won't crash
        // find() = returns the first element that meets the condition
        // (song) => song.id === id = function that tests each song
        
        audio.src = song.src;
        // üîó LOAD MP3: Sets the audio file URL
        
        audio.title = song.title;
        // üìù TITLE: For accessibility and metadata
      
        if (userData?.currentSong === null || userData?.currentSong.id !== song.id) {
          // üÜï NEW SONG? Checks if it's different
          audio.currentTime = 0;
          // ‚è±Ô∏è RESET: Start from the beginning
        } else {
          audio.currentTime = userData?.songCurrentTime;
          // ‚è±Ô∏è RESUME: From the saved point
        }
        
        userData.currentSong = song;
        // üíæ SAVE: Updates the current song in state
        
        playButton.classList.add("playing");
        // üé® CSS CLASS: To change the button color
        // classList.add() = adds class without removing others
      
        highlightCurrentSong();
        // üé® HIGHLIGHT: In the playlist
        
        setPlayerDisplay();
        // üìü UPDATE: Title and artist in the display
        
        setPlayButtonAccessibleText();
        // ‚ôø ACCESSIBILITY: Updates aria-label
        
        audio.play();
        // ‚ñ∂Ô∏è PLAY: Finally, playback starts!
        // The Audio API takes care of everything else
      };
      
      // ‚è∏Ô∏è ===== PAUSE FUNCTION =====
      const pauseSong = () => {
        // üö´ NO PARAMETER: Always pauses the current one
        
        userData.songCurrentTime = audio.currentTime;
        // üíæ SAVE POSITION: currentTime = seconds from the beginning
        // So we can resume from here later
        
        playButton.classList.remove("playing");
        // üé® REMOVE CLASS: Back to normal color
        
        audio.pause();
        // ‚è∏Ô∏è PAUSE: The API stops playback
      };
      
      // ‚è≠Ô∏è ===== NEXT SONG FUNCTION =====
      const playNextSong = () => {
        if (userData?.currentSong === null) {
          // üîç NO SONG? Start from the first
          playSong(userData?.songs[0].id);
          // ‚ñ∂Ô∏è FIRST: Index 0 of the array
        } else {
          const currentSongIndex = getCurrentSongIndex();
          // üìç INDEX: Finds position in the array
          
          const nextSong = userData?.songs[currentSongIndex + 1];
          // ‚ûï NEXT: Index + 1
          // ‚ö†Ô∏è It could be undefined if we're at the last one!
      
          playSong(nextSong.id);
          // ‚ñ∂Ô∏è PLAY: The next song
        }
      };
      
      // ‚èÆÔ∏è ===== PREVIOUS SONG FUNCTION =====
      const playPreviousSong = () => {
         if (userData?.currentSong === null) return;
         // üö´ NO SONG? Exit immediately
         // return = ends the function here
         
         else {
          const currentSongIndex = getCurrentSongIndex();
          // üìç INDEX: Current position
          
          const previousSong = userData?.songs[currentSongIndex - 1];
          // ‚ûñ PREVIOUS: Index - 1
          // ‚ö†Ô∏è It could be undefined if we're at the first one!
      
          playSong(previousSong.id);
          // ‚ñ∂Ô∏è PLAY: The previous song
         }
      };
      
      // üîÄ ===== SHUFFLE FUNCTION =====
      const shuffle = () => {
        userData?.songs.sort(() => Math.random() - 0.5);
        // üé≤ SIMPLIFIED FISHER-YATES ALGORITHM:
        // sort() = reorders the array
        // () => Math.random() - 0.5 = comparator function
        // Math.random() = number between 0 and 1
        // - 0.5 = result between -0.5 and +0.5
        // Negative result = a before b
        // Positive result = b before a
        // It's like flipping a coin for each comparison!
        
        userData.currentSong = null;
        // üîÑ SONG RESET: None selected
        
        userData.songCurrentTime = 0;
        // ‚è±Ô∏è TIME RESET: Start over
      
        renderSongs(userData?.songs);
        // üé® RE-RENDER: Shows the new order
        
        pauseSong();
        // ‚è∏Ô∏è PAUSE: Stops playback
        
        setPlayerDisplay();
        // üìü CLEAR DISPLAY: No song
        
        setPlayButtonAccessibleText();
        // ‚ôø UPDATE ARIA: For screen readers
      };
      
      // üóëÔ∏è ===== DELETE SONG FUNCTION =====
      const deleteSong = (id) => {
        // üéØ PARAMETER: ID of the song to delete
        
        if (userData?.currentSong?.id === id) {
          // üéµ ARE YOU DELETING THE ONE THAT'S PLAYING?
          userData.currentSong = null;
          userData.songCurrentTime = 0;
          // üîÑ RESET: Everything to zero
      
          pauseSong();
          // ‚è∏Ô∏è STOP: Playback
          
          setPlayerDisplay();
          // üìü CLEAR: The display
        }
      
        userData.songs = userData?.songs.filter((song) => song.id !== id);
        // üóëÔ∏è FILTER: Creates a new array WITHOUT the song
        // filter() = keeps only elements that return true
        // song.id !== id = true for all except the one to delete
        // It's like sifting and keeping only the good ones!
        
        renderSongs(userData?.songs); 
        // üé® RE-RENDER: Updates the list
        
        highlightCurrentSong(); 
        // üé® HIGHLIGHT: If there's still a current
        
        setPlayButtonAccessibleText(); 
        // ‚ôø UPDATE: Aria label
      };
      
      // üìü ===== SET PLAYER DISPLAY FUNCTION =====
      const setPlayerDisplay = () => {
        const playingSong = document.getElementById("player-song-title");
        const songArtist = document.getElementById("player-song-artist");
        // üìç ELEMENTS: Get references to title and artist
        
        const currentTitle = userData?.currentSong?.title;
        const currentArtist = userData?.currentSong?.artist;
        // üìù VALUES: Extract from currentSong (if it exists)
        // ?. = optional chaining avoids errors if null
      
        playingSong.textContent = currentTitle ? currentTitle : "";
        songArtist.textContent = currentArtist ? currentArtist : "";
        // üìù UPDATE TEXT: Ternary operator
        // condition ? value_if_true : value_if_false
        // If there's no title/artist, empty string
      };
      
      // üé® ===== HIGHLIGHT CURRENT SONG FUNCTION =====
      const highlightCurrentSong = () => {
        const playlistSongElements = document.querySelectorAll(".playlist-song");
        // üìã ALL SONGS: NodeList of elements
        // querySelectorAll = finds ALL elements with that class
        
        const songToHighlight = document.getElementById(
          `song-${userData?.currentSong?.id}`
        );
        // üéØ SONG TO HIGHLIGHT: Uses template literal
        // `song-${id}` = builds the ID dynamically
      
        playlistSongElements.forEach((songEl) => {
          songEl.removeAttribute("aria-current");
        });
        // üîÑ CLEAR: Removes aria-current from all
        // forEach = runs a function for each element
        // removeAttribute = completely removes the attribute
      
        if (songToHighlight) songToHighlight.setAttribute("aria-current", "true");
        // üé® HIGHLIGHT: Only the current one
        // setAttribute = sets/adds an attribute
        // aria-current="true" = for accessibility AND CSS styling
      };
      
      // üé® ===== RENDER SONGS: The Magic of the Template! =====
      const renderSongs = (array) => {
        // üéØ PARAMETER: Array of songs to display
        
        const songsHTML = array
          .map((song)=> {
            // üîÑ MAP: Transforms each song into HTML
            // map() = creates a new array transforming each element
            
            return `
            <li id="song-${song.id}" class="playlist-song">
            <!-- üéµ LIST ITEM: Unique ID for each song -->
            
            <button class="playlist-song-info" onclick="playSong(${song.id})">
                <!-- üîò INFO BUTTON: Clickable to play -->
                <!-- onclick = inline event handler (not best practice) -->
                
                <span class="playlist-song-title">${song.title}</span>
                <!-- üéµ TITLE: Interpolated from the template literal -->
                
                <span class="playlist-song-artist">${song.artist}</span>
                <!-- üé§ ARTIST: Always Quincy in this case -->
                
                <span class="playlist-song-duration">${song.duration}</span>
                <!-- ‚è±Ô∏è DURATION: mm:ss format -->
            </button>
            
            <button onclick="deleteSong(${song.id})" class="playlist-song-delete" aria-label="Delete ${song.title}">
                <!-- üóëÔ∏è DELETE BUTTON: To remove from the playlist -->
                <!-- dynamic aria-label for accessibility -->
                
                <svg width="20" height="20" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="8" cy="8" r="8" fill="#4d4d62"/>
                    <!-- ‚≠ï BACKGROUND CIRCLE: Dark gray -->
                    
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.32587 5.18571C5.7107 4.90301 6.28333 4.94814 6.60485 5.28651L8 6.75478L9.39515 5.28651C9.71667 4.94814 10.2893 4.90301 10.6741 5.18571C11.059 5.4684 11.1103 5.97188 10.7888 6.31026L9.1832 7.99999L10.7888 9.68974C11.1103 10.0281 11.059 10.5316 10.6741 10.8143C10.2893 11.097 9.71667 11.0519 9.39515 10.7135L8 9.24521L6.60485 10.7135C6.28333 11.0519 5.7107 11.097 5.32587 10.8143C4.94102 10.5316 4.88969 10.0281 5.21121 9.68974L6.8168 7.99999L5.21122 6.31026C4.8897 5.97188 4.94102 5.4684 5.32587 5.18571Z" fill="white"/>
                    <!-- ‚úñÔ∏è WHITE X: Complex path for the X -->
                </svg>
              </button>
            </li>
            `;
          })
          .join("");
          // üîó JOIN: Joins all the HTML pieces
          // join("") = concatenates without separators
          // Array of strings ‚Üí One single string
      
        playlistSongs.innerHTML = songsHTML;
        // üìù INSERT HTML: Into the container
        // innerHTML = replaces all HTML content
        // ‚ö†Ô∏è Beware of XSS with untrusted data!
      
        if (userData?.songs.length === 0) {
          // üì≠ EMPTY PLAYLIST? Show reset
          
          const resetButton = document.createElement("button");
          // üîß CREATE ELEMENT: Programmatic way
          // createElement = creates a DOM element
          
          const resetText = document.createTextNode("Reset Playlist");
          // üìù CREATE TEXT: Pure text node
          // createTextNode = safe text, no HTML
      
          resetButton.id = "reset";
          // üÜî SET ID: For styling/selection
          
          resetButton.ariaLabel = "Reset playlist";
          // ‚ôø ACCESSIBILITY: Description for screen readers
          
          resetButton.appendChild(resetText);
          // üîó ADD TEXT: To the button
          // appendChild = adds as a child
          
          playlistSongs.appendChild(resetButton);
          // üîó ADD BUTTON: To the playlist
      
          resetButton.addEventListener("click", () => {
            // üéß EVENT LISTENER: Listens for the click
            // addEventListener = modern way for events
            
            userData.songs = [...allSongs];
            // üîÑ RESTORE: Copy all songs again
            // Spread operator creates a new copy
      
            renderSongs(sortSongs()); 
            // üé® RE-RENDER: With alphabetical order
            
            setPlayButtonAccessibleText();
            // ‚ôø UPDATE ARIA: Play label
            
            resetButton.remove();
            // üóëÔ∏è REMOVE: The button itself
            // remove() = removes element from the DOM
          });
        };
      };
      
      // ‚ôø ===== SET PLAY BUTTON ACCESSIBLE TEXT =====
      const setPlayButtonAccessibleText = () => {
        const song = userData?.currentSong || userData?.songs[0];
        // üéµ SONG: Current OR first in the list
        // || = OR operator: if the first is falsy, use the second
      
        playButton.setAttribute(
          "aria-label",
          song?.title ? `Play ${song.title}` : "Play"
        );
        // ‚ôø ARIA-LABEL: Text for screen readers
        // Template literal for dynamic label
        // If there is a title: "Play [title]"
        // Otherwise: just "Play"
      };
      
      // üìç ===== GET CURRENT SONG INDEX =====
      const getCurrentSongIndex = () => userData?.songs.indexOf(userData?.currentSong);
      // üîç FIND INDEX: indexOf searches in the array
      // Returns the position (0-based) or -1 if not found
      // One-liner arrow function!
      
      // üéß ===== EVENT LISTENER: PLAY BUTTON =====
      playButton.addEventListener("click", () => {
        // üñ±Ô∏è CLICK ON PLAY: What to do?
        
        if (userData?.currentSong === null) {
          playSong(userData?.songs[0].id);
          // ‚ñ∂Ô∏è FIRST TIME: Start from the first song
        } else {
          playSong(userData?.currentSong.id);
          // ‚ñ∂Ô∏è RESUME: The current song
        }
      });
      
      // ‚è∏Ô∏è ===== EVENT LISTENER: PAUSE BUTTON =====
      pauseButton.addEventListener("click", pauseSong);
      // üñ±Ô∏è CLICK PAUSE: Calls the function directly
      // No need for an arrow function if there are no parameters
      
      // ‚è≠Ô∏è ===== EVENT LISTENER: NEXT BUTTON =====
      nextButton.addEventListener("click", playNextSong);
      // üñ±Ô∏è CLICK NEXT: Next song
      
      // ‚èÆÔ∏è ===== EVENT LISTENER: PREVIOUS BUTTON =====
      previousButton.addEventListener("click", playPreviousSong);
      // üñ±Ô∏è CLICK PREVIOUS: Previous song
      
      // üîÄ ===== EVENT LISTENER: SHUFFLE BUTTON =====
      shuffleButton.addEventListener("click", shuffle);
      // üñ±Ô∏è CLICK SHUFFLE: Shuffles everything!
      
      // üîö ===== EVENT LISTENER: AUDIO ENDED =====
      audio.addEventListener("ended", () => {
        // üéµ SONG END: The "ended" event triggers
        // When the audio naturally finishes
        
        const currentSongIndex = getCurrentSongIndex();
        // üìç INDEX: Where we are in the playlist
        
        const nextSongExists = userData?.songs[currentSongIndex + 1] !== undefined;
        // ‚ùì NEXT EXISTS? Checks if it's not undefined
        // !== undefined is more explicit than a simple truthy check
      
        if (nextSongExists) {
          playNextSong();
          // ‚è≠Ô∏è AUTOMATIC: Moves to the next one
        } else {
          // üõë END OF PLAYLIST: What to do?
          userData.currentSong = null;
          userData.songCurrentTime = 0;
          // üîÑ RESET STATE: No song, time zero
          
          pauseSong();
          // ‚è∏Ô∏è STOP: Even if it's already finished
          
          setPlayerDisplay();
          // üìü CLEAR: Empty display
          
          highlightCurrentSong();
          // üé® REMOVE: Highlighting
          
          setPlayButtonAccessibleText();
          // ‚ôø UPDATE: Aria label
        }
      });
      
      // üìä ===== SORT SONGS: Alphabetical Order =====
      const sortSongs = () => {
        userData?.songs.sort((a,b) => {
          // üî§ SORT: Reorders the array in-place
          // Comparator function with two parameters
          
          if (a.title < b.title) {
            return -1;
            // üìà A BEFORE B: Title A comes first alphabetically
          }
      
          if (a.title > b.title) {
            return 1;
            // üìâ B BEFORE A: Title B comes first
          }
      
          return 0;
          // üü∞ EQUAL: Keep current order
        });
        // HOW SORT WORKS:
        // -1 = a comes before b
        // 1 = b comes before a
        // 0 = they are equivalent
        // JavaScript compares strings lexicographically
      
        return userData?.songs;
        // üì§ RETURN: The sorted array
        // sort() modifies the original array AND returns it
      };
      
      // üöÄ ===== APP INITIALIZATION =====
      renderSongs(sortSongs());
      // üé® INITIAL RENDER: Shows songs sorted
      // sortSongs() sorts AND returns the array
      // renderSongs() creates the HTML and inserts it
      
      setPlayButtonAccessibleText();
      // ‚ôø SET ARIA: "Play Scratching The Surface"
      // Important for accessibility from the start
    </script>
  </body>
</html>

<!-- üéØ ===== MUSIC PLAYER SUMMARY ===== -->
<!-- 
üéµ COMPLETE ARCHITECTURE:
‚îÇ
‚îú‚îÄ‚îÄ üé® HTML STRUCTURE
‚îÇ   ‚îú‚îÄ‚îÄ üéß Player Section
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Player Bar (logo + decorations)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Player Content
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Album Art (cover)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Player Display
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ Song Info (title + artist)
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ Control Buttons (5 buttons)
‚îÇ   ‚îî‚îÄ‚îÄ üìã Playlist Section
‚îÇ       ‚îú‚îÄ‚îÄ Playlist Bar (header)
‚îÇ       ‚îî‚îÄ‚îÄ Songs List (populated via JS)
‚îÇ
‚îú‚îÄ‚îÄ üé® CSS STYLING
‚îÇ   ‚îú‚îÄ‚îÄ üìê CSS Variables (:root)
‚îÇ   ‚îú‚îÄ‚îÄ üîÑ Reset Styles (* selector)
‚îÇ   ‚îú‚îÄ‚îÄ üì¶ Layout (Flexbox everywhere!)
‚îÇ   ‚îú‚îÄ‚îÄ üé® Component Styles
‚îÇ   ‚îî‚îÄ‚îÄ üì± Media Query (@media max-width: 700px)
‚îÇ
‚îî‚îÄ‚îÄ üßô JAVASCRIPT LOGIC
    ‚îú‚îÄ‚îÄ üìç DOM Elements Selection
    ‚îú‚îÄ‚îÄ üéµ Songs Database (array of objects)
    ‚îú‚îÄ‚îÄ üîä Audio API Instance
    ‚îú‚îÄ‚îÄ üë§ User State Management
    ‚îú‚îÄ‚îÄ üéÆ Playback Functions
    ‚îÇ   ‚îú‚îÄ‚îÄ playSong(id)
    ‚îÇ   ‚îú‚îÄ‚îÄ pauseSong()
    ‚îÇ   ‚îú‚îÄ‚îÄ playNextSong()
    ‚îÇ   ‚îú‚îÄ‚îÄ playPreviousSong()
    ‚îÇ   ‚îî‚îÄ‚îÄ shuffle()
    ‚îú‚îÄ‚îÄ üé® UI Functions
    ‚îÇ   ‚îú‚îÄ‚îÄ renderSongs(array)
    ‚îÇ   ‚îú‚îÄ‚îÄ setPlayerDisplay()
    ‚îÇ   ‚îú‚îÄ‚îÄ highlightCurrentSong()
    ‚îÇ   ‚îî‚îÄ‚îÄ setPlayButtonAccessibleText()
    ‚îú‚îÄ‚îÄ üóëÔ∏è Utility Functions
    ‚îÇ   ‚îú‚îÄ‚îÄ deleteSong(id)
    ‚îÇ   ‚îú‚îÄ‚îÄ sortSongs()
    ‚îÇ   ‚îî‚îÄ‚îÄ getCurrentSongIndex()
    ‚îî‚îÄ‚îÄ üéß Event Listeners
        ‚îú‚îÄ‚îÄ Button clicks
        ‚îî‚îÄ‚îÄ Audio ended event

üß∞ TECHNOLOGIES AND CONCEPTS:
‚îú‚îÄ‚îÄ üìö ES6+ Features
‚îÇ   ‚îú‚îÄ‚îÄ Arrow Functions
‚îÇ   ‚îú‚îÄ‚îÄ Template Literals
‚îÇ   ‚îú‚îÄ‚îÄ Spread Operator
‚îÇ   ‚îú‚îÄ‚îÄ Optional Chaining
‚îÇ   ‚îî‚îÄ‚îÄ Const/Let
‚îú‚îÄ‚îÄ üéØ DOM Manipulation
‚îÇ   ‚îú‚îÄ‚îÄ getElementById
‚îÇ   ‚îú‚îÄ‚îÄ querySelectorAll
‚îÇ   ‚îú‚îÄ‚îÄ innerHTML
‚îÇ   ‚îú‚îÄ‚îÄ createElement
‚îÇ   ‚îî‚îÄ‚îÄ appendChild
‚îú‚îÄ‚îÄ üìä Array Methods
‚îÇ   ‚îú‚îÄ‚îÄ map()
‚îÇ   ‚îú‚îÄ‚îÄ filter()
‚îÇ   ‚îú‚îÄ‚îÄ find()
‚îÇ   ‚îú‚îÄ‚îÄ sort()
‚îÇ   ‚îî‚îÄ‚îÄ indexOf()
‚îú‚îÄ‚îÄ üéß Audio API
‚îÇ   ‚îú‚îÄ‚îÄ new Audio()
‚îÇ   ‚îú‚îÄ‚îÄ play()
‚îÇ   ‚îú‚îÄ‚îÄ pause()
‚îÇ   ‚îî‚îÄ‚îÄ currentTime
‚îî‚îÄ‚îÄ ‚ôø Accessibility
    ‚îú‚îÄ‚îÄ aria-label
    ‚îú‚îÄ‚îÄ aria-current
    ‚îî‚îÄ‚îÄ Semantic HTML
-->

```
</TabItem>

</Tabs>

### Flow State

I finally had fun!
I believe my enjoyment only presents itself when I find myself in a flow state and in this project it happened to me several times. I'm understanding the semantics more and more and I need the Code Tutor less and less to understand the logic behind the code.
### The DRY (Don't Repeat Yourself) Insight

I had an insight in this project related to the DRY concept. I was constantly repeating the same block of code in multiple functions:
```javascript

// In deleteSong(), shuffle(), and other functions:

renderSongs(userData?.songs);

highlightCurrentSong();

setPlayButtonAccessibleText();

```
**The discovery:** instead of always repeating the same functions, it's much smarter to create an **orchestrator function** that groups all common actions:
```javascript

const updatePlayerUI = () => {

  renderSongs(userData?.songs);

  highlightCurrentSong();

  setPlayButtonAccessibleText();

  // Future: if you add new functions, put them only here!

};

```
**Result:** functions become cleaner and focused on their main logic, delegating UI updates to the orchestrator.
I believe it was CSS that gave me this mindset: defining all common properties in a single rule and then specifying only the unique differences in separate rules, avoiding unnecessary repetitions.

### What I Learned

**Advanced Array Methods:**
- `.map()` to transform arrays into HTML strings
- `.filter()` to remove elements (deleteSong)
- `.find()` to search for specific elements
- `.sort()` for sorting and shuffle
- `.indexOf()` to find positions in array
- `.join("")` to concatenate array elements into a single string

**String Methods & Template Literals:**
- Complex template literals for HTML generation
- String interpolation for dynamic content
- Conditional string rendering

**Complex State Management:**
- `userData` object for global application state
- Current song tracking and time persistence
- Dynamic playlist management

**Audio API Integration:**
- `new Audio()` constructor and properties
- `audio.play()`, `audio.pause()`, `audio.currentTime`
- Event listener for `ended` event
- Audio source dynamic switching

**Advanced DOM Manipulation:**
- `document.createElement()` and `appendChild()` for dynamic elements
- `setAttribute()` and `removeAttribute()` for accessibility
- Dynamic event listener creation and removal
- Complex CSS class management

**Accessibility Implementation:**
- `aria-label` for button descriptions
- `aria-current` for current song highlighting
- Screen reader friendly content

**JavaScript Patterns:**
- Function orchestration for DRY principle
- Conditional rendering with ternary operators
- Event delegation and dynamic content handling
- State synchronization patterns

### Reflection

This project marked a turning point in my understanding of JavaScript!
The flow state achieved multiple times shows that I'm starting to think like a developer.
The insight on DRY and orchestrator functions was illuminating, I finally see the difference between writing code that works and writing well-architected code. <br />
I can't wait to start the next project!
***
**Next Project**: Build a Palindrome Checker Project (CERTIFICATION PROJECT!)

P.S. Finally going back to writing HTML and CSS!
