<!DOCTYPE html>
<!-- üéØ DICHIARAZIONE HTML5: "Benvenuti nella Classifica del Forum fCC!" -->
<!-- √à come mettere l'insegna all'esterno del nostro hub della community digitale! üèõÔ∏è -->

<html lang="en">
  <!-- üåç CONTENITORE PRINCIPALE: L'intera applicazione della classifica del forum -->
  <!-- lang="en" = Inglese, per internazionalizzazione e accessibilit√† -->
  
  <head>
    <!-- üß† IL CENTRO DI COMANDO: Configurazione e gestione delle risorse -->
    <!-- Come l'area dietro le quinte prima di un evento del forum della community! -->
    
    <meta charset="UTF-8" />
    <!-- üìù CODIFICA CARATTERI: UTF-8 supporta caratteri di lingue globali -->
    <!-- Essenziale per una community globale come freeCodeCamp! -->
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- üîÑ COMPATIBILIT√Ä BROWSER: Garantisce la migliore visualizzazione in IE -->
    <!-- "IE=edge" dice a Internet Explorer di utilizzare il suo motore di rendering pi√π recente -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- üì± DESIGN RESPONSIVE: "Questo forum √® ottimo su qualsiasi dispositivo!" -->
    <!-- Rende il sito adattabile a schermi mobili, tablet e desktop -->
    
    <title>fCC Forum Leaderboard</title>
    <!-- üìë TITOLO PAGINA: Appare nella scheda del browser -->
    <!-- Chiaro e conciso - gli utenti sanno immediatamente cosa stanno visualizzando -->
    
    <style>
      /* üé® ===== STILI CSS: Design Visuale del Forum ===== */
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        /* üßπ RESET CSS: Tabula rasa per uno stile coerente */
        /* Rimuove la spaziatura predefinita del browser e garantisce un modello di box coerente */
        /* Come pulire la lavagna prima di iniziare una nuova lezione */
      }
      
      :root {
        --main-bg-color: #2a2a40;
        --black: #000;
        --dark-navy: #0a0a23;
        --dark-grey: #d0d0d5;
        --medium-grey: #dfdfe2;
        --light-grey: #f5f6f7;
        --peach: #f28373;
        --salmon-color: #f0aea9;
        --light-blue: #8bd9f6;
        --light-orange: #f8b172;
        --light-green: #93cb5b;
        --golden-yellow: #f1ba33;
        --gold: #f9aa23;
        --green: #6bca6b;
        /* üé® VARIABILI CSS: Palette di colori centrale */
        /* Crea un tema coerente in tutta la classifica */
        /* Proprio come un forum ha colori di categoria coerenti! */
      }
      
      body {
        background-color: var(--main-bg-color);
        /* üñºÔ∏è SFONDO: Blu-viola profondo come il marchio fCC */
        /* Crea lo spazio dove vivono i nostri dati del forum */
      }
      
      nav {
        background-color: var(--dark-navy);
        padding: 10px 0;
        /* üìä BARRA DI NAVIGAZIONE: Contenitore superiore con branding */
        /* Sfondo blu navy scuro corrisponde al sito effettivo di fCC */
        /* Il padding d√† spazio di respiro al logo */
      }
      
      .fcc-logo {
        width: 210px;
        display: block;
        margin: auto;
        /* üñºÔ∏è STILE LOGO: Centrato e dimensionato correttamente */
        /* La larghezza preserva le proporzioni del logo */
        /* margin: auto lo centra orizzontalmente */
        /* Come l'insegna sopra una sala conferenze */
      }
      
      .title {
        margin: 25px 0;
        text-align: center;
        color: var(--light-grey);
        /* üìë TITOLO PAGINA: Intestazione "Latest Topics" */
        /* Margini generosi forniscono spaziatura verticale */
        /* Colore chiaro su sfondo scuro per leggibilit√† */
        /* Come lo striscione di benvenuto a un evento del forum */
      }
      
      .table-wrapper {
        padding: 0 25px;
        overflow-x: auto;
        /* üì¶ CONTENITORE TABELLA: Scorrimento orizzontale su piccoli schermi */
        /* Il padding laterale impedisce alla tabella di toccare i bordi dello schermo */
        /* overflow-x abilita lo scorrimento orizzontale quando necessario */
        /* Come una finestra di visualizzazione sui nostri dati del forum */
      }
      
      table {
        width: 100%;
        color: var(--dark-grey);
        margin: auto;
        table-layout: fixed;
        border-collapse: collapse;
        overflow-x: scroll;
        /* üìä TABELLA PRINCIPALE: Visualizzazione degli argomenti del forum */
        /* Larghezza 100% utilizza lo spazio disponibile nel contenitore */
        /* layout fisso mantiene le larghezze delle colonne */
        /* border-collapse rimuove gli spazi tra le celle */
        /* Come una bacheca ben organizzata */
      }
      
      #topics {
        text-align: start;
        width: 60%;
        /* üìù COLONNA ARGOMENTI: Contiene titoli dei post e categorie */
        /* Allineamento a sinistra per una lettura pi√π facile dei titoli */
        /* Occupa il 60% della larghezza della tabella - dati pi√π importanti */
        /* Come la riga dell'oggetto principale dei post del forum */
      }
      
      th {
        border-bottom: 2px solid var(--dark-grey);
        padding-bottom: 10px;
        font-size: 1.3rem;
        /* üìã INTESTAZIONI TABELLA: Etichette delle colonne */
        /* Il bordo crea una separazione visiva dai dati */
        /* Il padding aggiunge spazio tra testo e bordo */
        /* La dimensione del font pi√π grande enfatizza le intestazioni */
        /* Come divisori di sezione in un programma di conferenza */
      }
      
      td:not(:first-child) {
        text-align: center;
        /* ‚öñÔ∏è ALLINEAMENTO DATI: Centra tutte le colonne eccetto la prima */
        /* La prima colonna (argomenti) rimane allineata a sinistra per leggibilit√† */
        /* I dati centrati appaiono puliti per contenuti numerici/avatar */
        /* La pseudo-classe :not prende di mira tutto tranne gli argomenti */
      }
      
      td {
        border-bottom: 1px solid var(--dark-grey);
        padding: 20px 0;
        /* üìä CELLE TABELLA: Elementi dati individuali */
        /* Il bordo crea una sottile separazione tra le righe */
        /* Il padding verticale generoso migliora la leggibilit√† */
        /* Come singoli post del forum in un elenco */
      }
      
      .post-title {
        font-size: 1.2rem;
        color: var(--medium-grey);
        text-decoration: none;
        /* üìù TITOLI DEI POST: Titoli degli argomenti del forum */
        /* Font leggermente pi√π grande enfatizza l'importanza */
        /* Il grigio medio √® pi√π delicato del bianco puro */
        /* Nessuna sottolineatura per un aspetto pi√π pulito */
        /* Come righe dell'oggetto cliccabili in un forum */
      }
      
      .category {
        padding: 3px;
        color: var(--black);
        text-decoration: none;
        display: block;
        width: fit-content;
        margin: 10px 0 10px;
        /* üè∑Ô∏è TAG CATEGORIA: Classificazione degli argomenti */
        /* Il padding crea spazio attorno al testo */
        /* Testo nero per leggibilit√† su sfondi colorati */
        /* fit-content dimensiona il tag al suo contenuto */
        /* Il margine fornisce spaziatura dagli elementi circostanti */
        /* Come badge di categoria indossati a una conferenza */
      }
      
      .career {
        background-color: var(--salmon-color);
        /* üè∑Ô∏è CATEGORIA CARRIERA: Sfondo color salmone */
        /* La codifica a colori aiuta gli utenti a identificare rapidamente gli argomenti */
      }
      
      .feedback,
      .html-css {
        background-color: var(--light-blue);
        /* üè∑Ô∏è CATEGORIE FEEDBACK & HTML-CSS: Sfondo blu */
        /* I selettori raggruppati applicano lo stesso stile a pi√π classi */
      }
      
      .support {
        background-color: var(--light-orange);
        /* üè∑Ô∏è CATEGORIA SUPPORTO: Sfondo arancione */
      }
      
      .general {
        background-color: var(--light-green);
        /* üè∑Ô∏è CATEGORIA GENERALE: Sfondo verde */
      }
      
      .javascript {
        background-color: var(--golden-yellow);
        /* üè∑Ô∏è CATEGORIA JAVASCRIPT: Sfondo giallo */
      }
      
      .backend {
        background-color: var(--gold);
        /* üè∑Ô∏è CATEGORIA BACKEND: Sfondo oro */
      }
      
      .python {
        background-color: var(--green);
        /* üè∑Ô∏è CATEGORIA PYTHON: Sfondo verde */
      }
      
      .motivation {
        background-color: var(--peach);
        /* üè∑Ô∏è CATEGORIA MOTIVAZIONE: Sfondo pesca */
      }
      
      .avatar-container {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
        /* üë• CONTENITORE AVATAR: Contiene le immagini del profilo utente */
        /* Flexbox crea una riga di immagini che possono andare a capo */
        /* justify-content le centra orizzontalmente */
        /* gap fornisce una spaziatura costante tra gli avatar */
        /* flex-wrap permette al flusso di creare righe aggiuntive */
        /* Come una foto di gruppo dei partecipanti al forum */
      }
      
      .avatar-container img {
        width: 30px;
        height: 30px;
        /* üë§ IMMAGINI AVATAR: Foto del profilo utente */
        /* Dimensioni fisse mantengono gli avatar di dimensioni costanti */
        /* 30x30px √® abbastanza grande per essere visibile ma abbastanza piccolo per essere compatto */
      }
      
      @media (max-width: 750px) {
        /* üì± STILI MOBILE: Regolazioni per schermi pi√π piccoli */
        /* Si attiva quando la larghezza del viewport √® 750px o meno */
        
        .table-wrapper {
          padding: 0 15px;
          /* üìè PADDING RIDOTTO: Risparmia spazio su piccoli schermi */
          /* 15px invece di 25px d√† pi√π spazio ai contenuti */
        }
      
        table {
          width: 700px;
          /* üìä LARGHEZZA FISSA TABELLA: Abilita lo scorrimento orizzontale */
          /* 700px garantisce larghezze di colonna costanti */
          /* Combinato con overflow-x:auto, permette lo scorrimento su piccoli schermi */
          /* Come una mappa pi√π grande della sua finestra di visualizzazione */
        }
      
        th {
          font-size: 1.2rem;
          /* üî§ INTESTAZIONI PI√ô PICCOLE: Adattamento migliore per mobile */
          /* Ridotto da 1.3rem per risparmiare spazio */
        }
      
        .post-title {
          font-size: 1.1rem;
          /* üî§ TITOLI POST PI√ô PICCOLI: Adattamento migliore per mobile */
          /* Ridotto da 1.2rem per risparmiare spazio */
        }
      }
    </style>
  </head>
  <body>
    <!-- üìä ===== IL CORPO: Visualizzazione Classifica Forum ===== -->
    
    <header>
      <!-- üèõÔ∏è INTESTAZIONE SITO: Area branding e titolo -->
      
      <nav>
        <!-- üß≠ NAVIGAZIONE: Contiene il logo fCC -->
        
        <img
          class="fcc-logo"
          src="https://cdn.freecodecamp.org/platform/universal/fcc_primary.svg"
          alt="freeCodeCamp logo"
          /* üñºÔ∏è LOGO FCC: Immagine ufficiale del marchio */
          /* Il formato SVG garantisce una visualizzazione nitida a qualsiasi dimensione */
          /* Il testo alt fornisce accessibilit√† per screen reader */
        />
      </nav>
      <h1 class="title">Latest Topics</h1>
      <!-- üìë INTESTAZIONE PRINCIPALE: Titolo della pagina -->
      <!-- Testo semplice e chiaro che spiega lo scopo della pagina -->
    </header>

    <main>
      <!-- üìã CONTENUTO PRINCIPALE: I dati della classifica del forum -->
      
      <div class="table-wrapper">
        <!-- üì¶ CONTENITORE TABELLA: Abilita lo scorrimento responsive -->
        
        <table>
          <!-- üìä TABELLA DATI: Visualizzazione strutturata degli argomenti del forum -->
          
          <thead>
            <!-- üè∑Ô∏è INTESTAZIONE TABELLA: Titoli delle colonne -->
            
            <tr>
              <!-- üìã RIGA INTESTAZIONE: Contiene le etichette delle colonne -->
              
              <th id="topics">Topics</th>
              <!-- üìù INTESTAZIONE ARGOMENTI: Colonna del contenuto principale -->
              <!-- L'attributo id collega al selettore CSS e migliora l'accessibilit√† -->
              
              <th id="avatars">Avatars</th>
              <!-- üë• INTESTAZIONE AVATAR: Colonna immagini utenti -->
              
              <th id="replies">Replies</th>
              <!-- üí¨ INTESTAZIONE RISPOSTE: Colonna conteggio post -->
              
              <th id="views">Views</th>
              <!-- üëÅÔ∏è INTESTAZIONE VISUALIZZAZIONI: Colonna metriche di visibilit√† -->
              
              <th id="activity">Activity</th>
              <!-- ‚è∞ INTESTAZIONE ATTIVIT√Ä: Colonna informazioni recenti -->
            </tr>
          </thead>
          <tbody id="posts-container"></tbody>
          <!-- üìã CORPO TABELLA: Sar√† riempito da JavaScript -->
          <!-- Inizialmente vuoto, JavaScript inietter√† qui i dati del forum -->
          <!-- id="posts-container" fornisce un aggancio per JavaScript da targetizzare -->
        </table>
      </div>
    </main>
    <script>
      /* üß† ===== JAVASCRIPT: Il Motore Dinamico dei Dati del Forum ===== */
      
      const forumLatest = "https://cdn.freecodecamp.org/curriculum/forum-latest/latest.json";
      /* üì° URL FONTE DATI: Endpoint API per i post pi√π recenti del forum */
      /* File JSON ospitato su CDN con dati del forum */
      
      const forumTopicUrl = "https://forum.freecodecamp.org/t/";
      /* üîó PREFISSO URL ARGOMENTO: Link base per singoli argomenti */
      /* Usato per costruire link cliccabili a specifici post del forum */
      /* Verr√† combinato con slug e ID per creare URL completi */
      
      const forumCategoryUrl = "https://forum.freecodecamp.org/c/";
      /* üîó PREFISSO URL CATEGORIA: Link base per categorie */
      /* Usato per creare link alle pagine di categoria */
      /* Verr√† combinato con nome categoria e ID */
      
      const avatarUrl = "https://sea1.discourse-cdn.com/freecodecamp";
      /* üñºÔ∏è PREFISSO URL AVATAR: Link base per immagini utente */
      /* Usato per costruire URL completi delle immagini */
      /* Discourse CDN ospita gli avatar degli utenti */
      
      const postsContainer = document.getElementById("posts-container");
      /* üéØ RIFERIMENTO DOM: Il contenitore per i post del forum */
      /* getElementById recupera l'elemento con ID corrispondente */
      /* Qui inseriremo i nostri dati del forum */
      
      // --- SUGGERIMENTO PRO: L'"OGGETTO MAGICO" ---
      // Questo oggetto √® una mappa hardcoded. Se fCC cambiasse domani gli ID delle categorie,
      // questa app smetterebbe di mostrare i colori corretti.
      // IN PRODUZIONE: Si farebbe una seconda `fetch` a un endpoint `/categories.json`
      // per ottenere questa lista dinamicamente e incrociarla con i post.
      const allCategories = {
        299: { category: "Career Advice", className: "career" },
        409: { category: "Project Feedback", className: "feedback" },
        417: { category: "freeCodeCamp Support", className: "support" },
        421: { category: "JavaScript", className: "javascript" },
        423: { category: "HTML - CSS", className: "html-css" },
        424: { category: "Python", className: "python" },
        432: { category: "You Can Do This!", className: "motivation" },
        560: { category: "Backend Development", className: "backend" },
        /* üóÇÔ∏è MAPPATURA CATEGORIE: Collega ID a nomi e classi */
        /* Ogni propriet√† √® un ID categoria con un valore oggetto contenente: */
        /* - category: Nome leggibile */
        /* - className: Classe CSS per lo stile */
        /* Agisce come un traduttore tra ID database e nomi user-friendly */
      };
      
      const forumCategory = (id) => {
        /* üè∑Ô∏è FORMATTATORE CATEGORIA: Crea link categoria con stile appropriato */
        /* La arrow function prende un ID categoria e restituisce HTML formattato */
        
        let selectedCategory = {};
        /* üì¶ INIZIALIZZAZIONE: Oggetto vuoto per memorizzare i dati della categoria */
        /* Verr√† popolato in base alla corrispondenza ID */
        
        if (allCategories.hasOwnProperty(id)) {
          /* üîç RICERCA CATEGORIA: Controlla se l'ID esiste nella nostra mappatura */
          /* hasOwnProperty verifica se l'oggetto ha la chiave specifica */
          /* Come cercare un numero di sala conferenze nella directory */
          
          const { className, category } = allCategories[id];
          /* üì¶ DESTRUTTURAZIONE OGGETTO: Estrae le propriet√† necessarie */
          /* Estrae className e category dall'oggetto corrispondente */
          /* Come prendere solo il nome e il colore da un modello di badge */
          
          selectedCategory.className = className;
          selectedCategory.category = category;
        } else {
          /* ‚ö†Ô∏è FALLBACK: Gestisce ID categoria sconosciuti */
          /* Eseguito se l'ID non √® stato trovato in allCategories */
          
          selectedCategory.className = "general";
          selectedCategory.category = "General";
          selectedCategory.id = 1;
          /* üìù VALORI PREDEFINITI: Etichettatura generica per categorie sconosciute */
          /* Previene errori quando appaiono nuove categorie */
          /* Come avere una scatola "Varie" per oggetti che non rientrano altrove */
        }
        const url = `${forumCategoryUrl}${selectedCategory.className}/${id}`;
        /* üîó URL COMPLETO: Costruisce link alla pagina della categoria */
        /* Il template literal combina URL base, className e ID */
        /* Crea una destinazione cliccabile per la categoria */
        
        const linkText = selectedCategory.category;
        /* üìù TESTO VISUALIZZATO: Ci√≤ che gli utenti vedranno */
        /* Nome categoria leggibile */
        
        const linkClass = `category ${selectedCategory.className}`;
        /* üé® CLASSI CSS: Stile per i badge di categoria */
        /* Combina la classe base 'category' con la classe di colore specifica */
        /* Determina sia lo stile base che il colore specifico della categoria */
        
        return `<a href="${url}" class="${linkClass}" target="_blank">
          ${linkText}
        </a>`;
        /* üîô RESTITUISCE HTML: Link categoria con stile appropriato */
        /* Il template literal costruisce il tag ancora completo */
        /* target="_blank" apre il link in una nuova scheda */
        /* Come creare un badge personalizzato per ogni sezione del forum */
      };
      
      const timeAgo = (time) => {
        /* ‚è∞ FORMATTATORE TEMPO: Converte timestamp in tempo relativo */
        /* Prende una stringa data ISO e restituisce formato "X fa" */
        /* Aiuta gli utenti a capire la recente attivit√† senza date precise */
        
        const currentTime = new Date();
        /* üïí TEMPO ATTUALE: Ora, come oggetto Date JavaScript */
        /* Crea punto di riferimento per il confronto */
        
        const lastPost = new Date(time);
        /* üïí TEMPO DEL POST: Quando √® avvenuta l'attivit√† */
        /* Converte la stringa ISO in oggetto Date JavaScript */
        
        const timeDifference = currentTime - lastPost;
        /* ‚è±Ô∏è DIFFERENZA DI TEMPO: Millisecondi tra ora e tempo del post */
        /* Le date JavaScript possono essere sottratte per ottenere la differenza in millisecondi */
        /* Come misurare la distanza tra due punti su una linea temporale */
        
        const msPerMinute = 1000 * 60;
        /* ‚è±Ô∏è MILLISECONDI PER MINUTO: Costante di conversione */
        /* 1000ms * 60s = millisecondi in un minuto */
        /* Usato per le conversioni di unit√† di tempo */
        
        const minutesAgo = Math.floor(timeDifference / msPerMinute);
        /* ‚è±Ô∏è MINUTI FA: Arrotondato per difetto al numero intero */
        /* Converte i millisecondi grezzi in minuti */
        /* Math.floor garantisce che non arrotondiamo per eccesso i minuti parzialmente trascorsi */
        
        const hoursAgo = Math.floor(minutesAgo / 60);
        /* ‚è±Ô∏è ORE FA: Minuti convertiti in ore */
        /* 60 minuti per ora */
        
        const daysAgo = Math.floor(hoursAgo / 24);
        /* ‚è±Ô∏è GIORNI FA: Ore convertite in giorni */
        /* 24 ore per giorno */
        
        // --- LOGICA A CASCATA ---
        // Qui c'erano dubbi sull'ordine e sulla sintassi.
        // Usiamo `if...` `if...` `return` (o `else if`) per controllare
        // in sequenza: minuti -> ore -> giorni.
        // Ricorda: √® `minutesAgo < 60` non `minutesAgo(60)`!
        if (minutesAgo < 60) {
          return `${minutesAgo}m ago`;
          /* ‚è±Ô∏è FORMATO MINUTI: Per attivit√† molto recente */
          /* Se meno di un'ora, mostra in minuti */
          /* "5m ago" √® pi√π intuitivo di "0.08h ago" */
        }
      
        if (hoursAgo < 24) {
          return `${hoursAgo}h ago`;
          /* ‚è±Ô∏è FORMATO ORE: Per attivit√† dello stesso giorno */
          /* Se meno di un giorno ma pi√π di un'ora */
          /* "5h ago" √® pi√π intuitivo di "0.2d ago" */
        }
      
        return `${daysAgo}d ago`;
        /* ‚è±Ô∏è FORMATO GIORNI: Per attivit√† pi√π vecchia */
        /* Default per attivit√† pi√π vecchia di un giorno */
        /* Come dire "pubblicato 3 giorni fa" su un forum */
      };
      
      const viewCount = (views) => {
        /* üëÅÔ∏è FORMATTATORE VISUALIZZAZIONI: Semplifica numeri grandi */
        /* Converte conteggi visualizzazioni in formato K per leggibilit√† */
        /* 1500 diventa "1k" invece di mostrare tutte le cifre */
        
        // --- ARROTONDAMENTO ---
        // L'errore qui era mancante `Math.floor`.
        // Senza di esso, 1500 visualizzazioni diventerebbero "1.5k" invece di "1k".
        const thousands = Math.floor(views / 1000);
        /* üî¢ CALCOLO MIGLIAIA: Divisione con arrotondamento per difetto */
        /* Divide per 1000 e arrotonda per difetto all'intero pi√π vicino */
        /* Math.floor garantisce che non mostriamo "1.5k" per 1500 visualizzazioni */
      
        if (views >= 1000) {
          return `${thousands}k`;
          /* üî¢ FORMATO MIGLIAIA: Numeri grandi semplificati */
          /* Aggiunge suffisso "k" per le migliaia */
          /* Come dire "1k follower" invece di "1000 follower" */
        }
      
        return views;
        /* üî¢ FORMATO DIRETTO: Per numeri pi√π piccoli */
        /* Numeri sotto 1000 visualizzati cos√¨ come sono */
        /* Non c'√® bisogno di semplificare i numeri pi√π piccoli */
      };
      
      const avatars = (posters, users) => {
        /* üë• PROCESSORE AVATAR: Crea HTML per le immagini utente */
        /* Prende ID dei poster e oggetti utente, restituisce HTML dell'immagine */
        /* Mappa ogni poster alla sua immagine avatar corrispondente */
        
        return posters
          .map((poster) => {
            /* üîÑ TRASFORMAZIONE MAP: Elabora ogni poster */
            /* map crea un nuovo array trasformando ogni elemento */
            /* Ogni poster viene convertito in HTML */
            
            const user = users.find((user) => user.id === poster.user_id);
            /* üîç RICERCA UTENTE: Trova l'utente corrispondente nell'array users */
            /* find restituisce il primo elemento dell'array che passa un test */
            /* Fa corrispondere user_id dal poster con id da users */
            /* Come trovare il profilo completo di una persona dal suo numero ID */
            
            if (user) {
              /* ‚úÖ CONTROLLO ESISTENZA UTENTE: Procedi solo se l'utente √® stato trovato */
              /* Previene errori se i dati utente sono mancanti */
              
              const avatar = user.avatar_template.replace(/{size}/, 30);
              /* üñºÔ∏è SOSTITUZIONE DIMENSIONE: Converte il template in URL effettivo */
              /* Sostituisce il segnaposto {size} con le dimensioni effettive in pixel */
              /* 30 corrisponde alla nostra dimensione CSS per le immagini avatar */
              
              // --- LA QUESTIONE FILOSOFICA DI .CONCAT() ---
              // La domanda era "non √® complicarsi la vita?". S√¨, lo √® :)
              // `avatarUrl.concat(avatar)` √® stile Orientato agli Oggetti (Soggetto.Verbo(Oggetto)).
              // Nel mondo reale, useresti `${avatarUrl}${avatar}`.
              const userAvatarUrl = avatar.startsWith("/user_avatar/")
                ? avatarUrl.concat(avatar)
                /* üîç CONTROLLO PERCORSO: Gestisce URL relativi */
                /* Se il percorso inizia con "/user_avatar/", aggiunge l'URL base */
                /* Usa concatenazione di stringhe per combinare parti URL */
                : avatar;
                /* üîç URL ASSOLUTO: Usa cos√¨ com'√® se gi√† completo */
                /* Alcuni avatar potrebbero avere gi√† URL completi (es. Gravatar) */
              
              return `<img src="${userAvatarUrl}" alt="${user.name}" />`;
              /* üîô RESTITUISCE TAG IMMAGINE: HTML completo per avatar */
              /* L'attributo src contiene l'URL completo dell'immagine */
              /* L'attributo alt usa il nome dell'utente per accessibilit√† */
              /* Come creare un badge nome con foto per ogni partecipante */
            }
          })
          .join("");
          /* üîó UNISCE ARRAY: Combina tutto l'HTML degli avatar */
          /* join("") concatena gli elementi dell'array con stringa vuota */
          /* Converte array di stringhe HTML in singola stringa HTML */
          /* Necessario perch√© map restituisce un array, ma abbiamo bisogno di una stringa */
      };
      
      // --- ASYNC/AWAIT: IL CAMBIO AUTOMATICO ---
      // Rispetto al vecchio progetto con `.then()` (cambio manuale),
      // qui usiamo `async/await` per scrivere codice asincrono che *sembra* sincrono.
      // `try...catch` qui cattura SIA errori di rete (async) SIA errori di codice (sync).
      const fetchData = async () => {
        /* üì° RECUPERATORE DATI: Ottiene dati del forum dall'API */
        /* La funzione async abilita la sintassi await */
        /* Restituisce una promessa che si risolve quando i dati sono elaborati */
        
        try {
          /* üõ°Ô∏è GESTIONE ERRORI: Inizia un blocco try/catch */
          /* Cattura sia errori di rete che di codice */
          /* Come una rete di sicurezza per la nostra richiesta API */
          
          // --- SUGGERIMENTO PRO: STATO DI CARICAMENTO ---
          // QUI √® dove inseriresti un indicatore di caricamento!
          // postsContainer.innerHTML = '<div class="loader">Loading...</div>';
          // 
          // Altrimenti l'utente vede una tabella vuota momentaneamente (sfarfallio).
          
          const res = await fetch(forumLatest);
          /* üì° RICHIESTA FETCH: Ottieni dati del forum dall'API */
          /* await mette in pausa l'esecuzione finch√© fetch non si risolve */
          /* fetch restituisce un oggetto Response */
          /* Come inviare una richiesta al database del forum */
          
          const data = await res.json();
          /* üì¶ PARSING JSON: Estrae dati dalla risposta */
          /* await mette in pausa l'esecuzione finch√© il parsing JSON non √® completo */
          /* Converte la stringa JSON in oggetto JavaScript */
          /* Come aprire un pacco per vedere cosa c'√® dentro */
          
          showLatestPosts(data);
          /* üìä FUNZIONE DI VISUALIZZAZIONE: Elabora e visualizza i dati */
          /* Passa i dati recuperati alla funzione di rendering */
          /* Come prendere i dati del forum e metterli sulla bacheca */
        } catch (err) {
          /* üõ°Ô∏è CATTURA ERRORE: Gestisce eventuali fallimenti */
          /* Eseguito se si verifica qualsiasi errore nel blocco try */
          /* Fornisce una gestione elegante dei fallimenti */
          
          // --- SUGGERIMENTO PRO: UX ERRORI ---
          // QUI, oltre al console.log (che √® per te), dovresti aggiornare la UI.
          // postsContainer.innerHTML = '<p>Errore di connessione. Riprova.</p>';
          // 
          // Se il forum non √® disponibile, l'utente deve saperlo, non pensare che sia vuoto.
          console.log(err);
          /* üõ†Ô∏è LOGGING ERRORI: Output errore alla console */
          /* Aiuta con il debugging per gli sviluppatori */
          /* In produzione dovrebbe essere abbinato a un messaggio di errore visibile all'utente */
        }
      };
      
      fetchData();
      /* üöÄ CARICAMENTO INIZIALE: Esegui recupero dati immediatamente */
      /* Chiama la funzione async quando la pagina si carica */
      /* Avvia il processo di recupero dati */
      
      const showLatestPosts = (data) => {
        /* üìä RENDERER DATI: Elabora e visualizza i dati del forum */
        /* Prende i dati API grezzi e li converte in righe di tabella HTML */
        /* La trasformazione finale dai dati agli elementi UI */
        
        // --- LA MATRIOSKA DELLA DESTRUTTURAZIONE ---
        // C'erano domande sul perch√© farlo in due passaggi.
        // 1. Apri la scatola grande (`data`) -> trova `topic_list` (snake_case perch√© viene dall'API Python/Ruby).
        const { topic_list, users } = data;
        /* üì¶ DESTRUTTURAZIONE PRIMO LIVELLO: Estrae componenti principali */
        /* topic_list contiene informazioni sugli argomenti */
        /* users contiene informazioni sul profilo utente */
        /* La destrutturazione estrae questi in costanti separate */
        
        // 2. Apri la scatola interna (`topic_list`) -> trova `topics`.
        const { topics } = topic_list;
        /* üì¶ DESTRUTTURAZIONE SECONDO LIVELLO: Estrae array topics */
        /* topics contiene i dati effettivi dei post del forum */
        /* Ulteriore destrutturazione per arrivare direttamente ai dati che ci servono */
        /* Come aprire contenitori annidati per trovare gli oggetti specifici */
      
        postsContainer.innerHTML = topics.map((item) => {
          /* üìù RENDERIZZA ARGOMENTI: Converte ogni argomento in HTML */
          /* map trasforma ogni oggetto argomento in una stringa HTML */
          /* innerHTML sostituisce il contenuto del contenitore con il nostro HTML generato */
          
          const {
            id,
            title,
            views,
            posts_count,
            slug,
            posters,
            category_id,
            bumped_at,
          } = item;
          /* üì¶ DESTRUTTURAZIONE ARGOMENTO: Estrae propriet√† necessarie */
          /* Estrae singoli pezzi di dati da ogni argomento */
          /* Rende il codice pi√π leggibile utilizzando nomi di variabile diretti */
          /* Come ordinare le informazioni importanti da un post del forum */
      
          return `
          <tr>
            <td>
              <a class="post-title" target="_blank" href="${forumTopicUrl}${slug}/${id}">${title}</a>
              <!-- üîó LINK POST: Titolo cliccabile che collega al post del forum effettivo -->
      
              ${forumCategory(category_id)}
              <!-- üè∑Ô∏è BADGE CATEGORIA: Indicatore di categoria codificato a colori -->
            </td>
            <td>
              <div class="avatar-container">
                ${avatars(posters, users)}
                <!-- üë• AVATAR UTENTI: Immagini del profilo dei partecipanti -->
              </div>
            </td>
            <td>${posts_count - 1}</td>
            <!-- üí¨ CONTEGGIO RISPOSTE: Numero di risposte (totale - 1) -->
            
            <td>${viewCount(views)}</td>
            <!-- üëÅÔ∏è CONTEGGIO VISUALIZZAZIONI: Quante volte l'argomento √® stato visto -->
            
            <td>${timeAgo(bumped_at)}</td>
            <!-- ‚è∞ TEMPO ATTIVIT√Ä: Quanto tempo √® passato dall'ultimo aggiornamento -->
          </tr>`;
          /* üîô RESTITUISCE RIGA TABELLA: HTML completo per un argomento */
          /* Il template literal costruisce la riga con tutti i dati dell'argomento */
          /* Ogni cella contiene dati formattati dalle nostre funzioni helper */
          /* Come creare una riga completa sulla classifica del forum */
        }).join("");
        /* üîó UNISCE RIGHE: Combina tutte le righe HTML in una stringa */
        /* Converte array di righe HTML in singola stringa per inserimento */
        /* Fase finale prima di aggiornare il DOM */
      };
    </script>
  </body>
</html>

<!-- üéØ ===== RIASSUNTO DELLA CLASSIFICA DEL FORUM ===== -->
<!-- 
üìä ARCHITETTURA APP:
‚îÇ
‚îú‚îÄ‚îÄ üß† HEAD (configurazione)
‚îÇ   ‚îî‚îÄ‚îÄ üé® CSS con stile fCC:
‚îÇ       ‚îú‚îÄ‚îÄ üìä Design tabella responsive
‚îÇ       ‚îú‚îÄ‚îÄ üé® Sistema categorie codificato a colori
‚îÇ       ‚îú‚îÄ‚îÄ üë• Layout visualizzazione avatar
‚îÇ       ‚îî‚îÄ‚îÄ üì± Adattamenti per mobile
‚îÇ
‚îú‚îÄ‚îÄ üìÑ BODY (interfaccia)
‚îÇ   ‚îú‚îÄ‚îÄ üèõÔ∏è Intestazione con logo
‚îÇ   ‚îî‚îÄ‚îÄ üìä Tabella dati
‚îÇ       ‚îú‚îÄ‚îÄ üìã Intestazioni colonne
‚îÇ       ‚îî‚îÄ‚îÄ üìä Area contenuto dinamico
‚îÇ
‚îî‚îÄ‚îÄ üßÆ JAVASCRIPT (gestione dati)
    ‚îú‚îÄ‚îÄ üì° Recupero dati con async/await
    ‚îú‚îÄ‚îÄ üîÑ Funzioni di trasformazione dati
    ‚îÇ   ‚îú‚îÄ‚îÄ üè∑Ô∏è Formattazione categoria
    ‚îÇ   ‚îú‚îÄ‚îÄ ‚è∞ Calcolo tempo relativo
    ‚îÇ   ‚îú‚îÄ‚îÄ üëÅÔ∏è Formattazione conteggio visualizzazioni
    ‚îÇ   ‚îî‚îÄ‚îÄ üë• Generazione HTML avatar
    ‚îú‚îÄ‚îÄ üõ°Ô∏è Gestione errori
    ‚îî‚îÄ‚îÄ üìä Rendering HTML

üöÄ TECNICHE JAVASCRIPT CHIAVE:
‚îú‚îÄ‚îÄ üì¶ Destrutturazione (livelli multipli)
‚îú‚îÄ‚îÄ üîÑ Metodi array (.map, .find, .join)
‚îú‚îÄ‚îÄ ‚û°Ô∏è Arrow function
‚îú‚îÄ‚îÄ üì° Fetch API con async/await
‚îú‚îÄ‚îÄ üß© Template literal per costruzione HTML
‚îî‚îÄ‚îÄ üîç Logica condizionale con operatori ternari

üé® CARATTERISTICHE DESIGN:
‚îú‚îÄ‚îÄ üìä Tabella responsive con scorrimento orizzontale
‚îú‚îÄ‚îÄ üé® Categorie codificate a colori per organizzazione visiva
‚îú‚îÄ‚îÄ üì± Adattamenti per dispositivi mobili
‚îî‚îÄ‚îÄ üë• Sistema di visualizzazione avatar compatto

Un esempio reale di dashboard dati dinamica per contenuti della community! üìä‚ú®
-->
