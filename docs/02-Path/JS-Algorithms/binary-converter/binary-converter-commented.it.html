<!DOCTYPE html>
<!-- ğŸ¯ DICHIARAZIONE HTML5: "Benvenuti nel mondo della conversione numerica!" -->
<!-- Ãˆ come aprire un laboratorio di matematica digitale! ğŸ§® -->

<html lang="en">
<!-- ğŸŒ CONTENITORE PRINCIPALE: Il nostro convertitore binario -->
<!-- lang="en" = inglese, la lingua della programmazione! ğŸ’» -->

  <head>
    <!-- ğŸ§  IL CENTRO DI CALCOLO: Dove prepariamo il nostro convertitore -->
    <!-- Ãˆ come preparare una calcolatrice speciale per i binari -->
    
    <meta charset="UTF-8" />
    <!-- ğŸ“ CARATTERI UNIVERSALI: UTF-8 per numeri e simboli! 0ï¸âƒ£1ï¸âƒ£ -->
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- ğŸŒ COMPATIBILITÃ€ BROWSER: "Funziona bene anche su Internet Explorer!" -->
    <!-- http-equiv simula un header HTTP -->
    <!-- IE=edge = usa l'ultima versione del motore di rendering di IE -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- ğŸ“± DESIGN RESPONSIVE: "Si adatta a ogni schermo!" -->
    <!-- initial-scale=1.0 = nessuno zoom iniziale -->
    
    <title>Decimal to Binary Converter</title>
    <!-- ğŸ“‘ TITOLO DELLA TAB: Chiaro e descrittivo -->
    
    <style>
      /* ğŸ¨ ===== IL FOGLIO DI STILE: Design da Hacker! ===== */
      
      *,
      *::before,
      *::after {
        /* ğŸ”„ RESET UNIVERSALE COMPLETO: Tutti gli elementi E i loro pseudo-elementi */
        box-sizing: border-box;
        /* ğŸ“¦ BORDER-BOX: Include padding e bordi nelle dimensioni */
        margin: 0;
        padding: 0;
        /* ğŸš« ZERO SPAZI: Partiamo da una lavagna pulita */
      }
      
      :root {
        /* ğŸ¨ VARIABILI CSS: I nostri colori tema "terminale" */
        --light-grey: #f5f6f7;
        /* ğŸ”˜ GRIGIO CHIARO: Per il testo */
        
        --dark-blue: #1b1b32;
        /* ğŸŒ‘ BLU SCURISSIMO: Sfondo stile terminale */
        
        --orange: #f1be32;
        /* ğŸŸ  ARANCIONE DORATO: Per accenti e bordi */
        /* Come il colore ambra dei vecchi monitor! */
      }
      
      body {
        display: flex;
        /* ğŸ¯ FLEXBOX: Layout moderno */
        
        flex-direction: column;
        /* ğŸ“¦ COLONNA: Elementi uno sotto l'altro */
        
        align-items: center;
        /* âš–ï¸ CENTRATURA ORIZZONTALE: Tutto al centro */
        
        font-family: Menlo, Consolas, Monaco, Liberation Mono, Lucida Console,
          monospace;
        /* ğŸ”¤ FONT MONOSPAZIO: Come un vero terminale! */
        /* Lista di font in ordine di preferenza */
        /* monospace = tutti i caratteri hanno la stessa larghezza */
        
        font-size: 1.125rem;
        /* ğŸ“ DIMENSIONE BASE: 18px (1.125 Ã— 16) */
        
        color: var(--light-grey);
        /* ğŸ”˜ COLORE TESTO: Grigio chiaro dalla variabile */
        
        background-color: var(--dark-blue);
        /* ğŸŒ‘ SFONDO: Blu scuro stile terminale */
        
        padding: 0 4px;
        /* ğŸ  PADDING LATERALE: Piccolo respiro ai lati */
      }
      
      h1 {
        font-size: 2.125rem;
        /* ğŸ“ TITOLO GRANDE: 34px (2.125 Ã— 16) */
        
        text-align: center;
        /* âš–ï¸ CENTRATO: Il titolo principale */
        
        margin: 20px 0;
        /* ğŸŒ¬ï¸ MARGINI: 20px sopra e sotto */
      }
      
      h2 {
        font-size: 1.5rem;
        /* ğŸ“ SOTTOTITOLO: 24px (1.5 Ã— 16) */
        
        text-align: center;
        /* âš–ï¸ CENTRATO: Come h1 */
        
        margin: 20px 0;
        /* ğŸŒ¬ï¸ STESSI MARGINI: Coerenza visiva */
      }
      
      .input-container {
        display: flex;
        /* ğŸ¯ FLEX CONTAINER: Per l'input */
        
        flex-direction: column;
        /* ğŸ“¦ COLONNA: Label sopra, input e bottone sotto */
        
        gap: 10px;
        /* ğŸŒ‰ SPAZIO TRA ELEMENTI: 10px automatici */
        
        justify-content: center;
        /* âš–ï¸ CENTRATURA VERTICALE: Nel suo spazio */
        
        align-items: center;
        /* âš–ï¸ CENTRATURA ORIZZONTALE: Elementi al centro */
        
        width: clamp(320px, 50vw, 460px);
        /* ğŸ“ LARGHEZZA RESPONSIVA GENIALE! */
        /* clamp(minimo, preferito, massimo) */
        /* 320px = minimo su mobile */
        /* 50vw = metÃ  viewport idealmente */
        /* 460px = massimo su desktop */
        /* Ãˆ come un elastico con limiti! */
        
        margin: 10px auto;
        /* ğŸŒ¬ï¸ MARGINE: 10px verticale, auto orizzontale (centrato) */
      }
      
      .input-container label {
        white-space: nowrap;
        /* ğŸ“ NIENTE A CAPO: Il label resta su una riga */
        
        word-spacing: -6px;
        /* ğŸ”¤ SPAZIO NEGATIVO: Avvicina le parole */
        /* -6px = le parole si stringono un po' */
      }
      
      .convert-btn {
        font-size: inherit;
        /* ğŸ§¬ EREDITA: Prende la dimensione dal genitore */
        
        font-family: inherit;
        /* ğŸ§¬ EREDITA: Stesso font monospazio */
        
        background-color: var(--orange);
        /* ğŸŸ  SFONDO: Arancione dorato dalla variabile */
        
        width: 100%;
        /* ğŸ“ LARGHEZZA PIENA: Occupa tutto il container */
        
        height: 2rem;
        /* ğŸ“ ALTEZZA: 32px (2 Ã— 16) */
        
        padding: 0 6px;
        /* ğŸ  PADDING: Solo laterale */
        
        border: none;
        /* ğŸš« NIENTE BORDO: Pulito */
        
        border-radius: 2px;
        /* ğŸ”„ ANGOLI: Leggermente arrotondati */
        
        cursor: pointer;
        /* ğŸ‘† MANINA: "Sono cliccabile!" */
      }
      
      .number-input {
        font-size: inherit;
        /* ğŸ§¬ EREDITA: Dimensione dal genitore */
        
        padding: 0.3rem;
        /* ğŸ  PADDING: Circa 5px di respiro */
        
        width: 100%;
        /* ğŸ“ LARGHEZZA PIENA: Come il bottone */
      }
      
      .output-container {
        margin-inline: auto;
        /* âš–ï¸ CENTRATURA MODERNA: margin-inline = margini orizzontali */
        /* auto = centrato automaticamente */
        /* Ãˆ come margin: 0 auto ma solo orizzontale! */
        
        width: clamp(320px, 50vw, 460px);
        /* ğŸ“ STESSA LARGHEZZA: Dell'input container */
      }
      
      #result {
        display: flex;
        /* ğŸ¯ FLEX: Per centrare il contenuto */
        
        align-items: center;
        /* âš–ï¸ CENTRATO VERTICALMENTE: Il risultato */
        
        justify-content: center;
        /* âš–ï¸ CENTRATO ORIZZONTALMENTE: Perfetto centro */
        
        font-size: 2rem;
        /* ğŸ“ TESTO GRANDE: 32px per il risultato */
        
        text-align: center;
        /* âš–ï¸ TESTO CENTRATO: Backup per il testo */
        
        min-height: 80px;
        /* ğŸ“ ALTEZZA MINIMA: Non collassa mai sotto 80px */
        
        margin-block-start: 20px;
        /* ğŸŒ¬ï¸ MARGINE SOPRA MODERNO: margin-block-start = margin-top logico */
        /* Si adatta alla direzione del testo (RTL/LTR) */
        
        padding: 15px;
        /* ğŸ  PADDING: Spazio interno generoso */
        
        border: 2px solid var(--orange);
        /* ğŸ–¼ï¸ BORDO: Arancione 2px solido */
        
        border-radius: 2px;
        /* ğŸ”„ ANGOLI: Leggermente arrotondati */
      }
      
      #animation-container {
        display: flex;
        /* ğŸ¯ FLEX: Per l'animazione dello stack */
        
        flex-direction: column-reverse;
        /* ğŸ“¦ COLONNA INVERTITA: I nuovi elementi vanno in alto! */
        /* Ãˆ come impilare piatti dal basso verso l'alto */
        
        justify-content: end;
        /* â¬‡ï¸ ALLINEAMENTO: Verso il fondo */
        /* end = gli elementi partono dal fondo */
        
        gap: 1rem;
        /* ğŸŒ‰ SPAZIO: 16px tra ogni frame */
        
        margin-block-end: 1rem;
        /* ğŸŒ¬ï¸ MARGINE SOTTO: margin-block-end = margin-bottom logico */
        
        min-height: 40vh;
        /* ğŸ“ ALTEZZA MINIMA: 40% dell'altezza viewport */
        /* vh = viewport height */
        
        border: 2px dashed var(--orange);
        /* ğŸ–¼ï¸ BORDO TRATTEGGIATO: Per indicare l'area animazione */
        /* dashed = linea tratteggiata */
        
        padding: 1rem;
        /* ğŸ  PADDING: 16px di respiro interno */
      }
      
      .animation-frame {
        font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui,
          helvetica neue, helvetica, Cantarell, Ubuntu, roboto, noto, arial,
          sans-serif;
        /* ğŸ”¤ FONT DI SISTEMA: Lista completa per ogni OS */
        /* -apple-system = font di sistema su Mac */
        /* BlinkMacSystemFont = Chrome su Mac */
        /* segoe ui = Windows */
        /* Ãˆ diverso dal monospace per distinguere l'animazione */
        
        padding: 15px 10px;
        /* ğŸ  PADDING: 15px verticale, 10px orizzontale */
        
        border: 5px solid var(--orange);
        /* ğŸ–¼ï¸ BORDO SPESSO: 5px per evidenziare */
        
        font-size: 1.2rem;
        /* ğŸ“ TESTO: Leggermente piÃ¹ grande (19.2px) */
        
        text-align: center;
        /* âš–ï¸ CENTRATO: Il testo nei frame */
      }
      
      @media screen and (min-width: 36em) {
        /* ğŸ“± MEDIA QUERY: Per schermi piÃ¹ grandi di 576px */
        /* 36em Ã— 16px = 576px */
        /* em in media query usa sempre 16px come base */
        
        body {
          font-size: 1rem;
          /* ğŸ“ FONT PIÃ™ PICCOLO: 16px su desktop */
          /* Da 18px a 16px */
        }
      
        .input-container {
          flex-direction: row;
          /* ğŸ“¦ RIGA: Label, input e bottone affiancati */
          /* Da colonna a riga su schermi grandi */
          
          width: unset;
          /* ğŸ”„ RESET LARGHEZZA: Torna al valore iniziale */
          /* unset = cancella la proprietÃ  precedente */
        }
      
        .number-input {
          width: unset;
          /* ğŸ”„ RESET: Non piÃ¹ 100% di larghezza */
        }
      }
    </style>
  </head>
  
  <body>
    <!-- ğŸ”¢ ===== IL CONVERTITORE PRENDE VITA! ===== -->
    
    <h1>
      Decimal to Binary <br />
      Converter
    </h1>
    <!-- ğŸ“° TITOLO: Con <br> per andare a capo -->
    <!-- Il titolo su due righe per estetica -->
    
    <section class="input-container">
      <!-- ğŸ“¦ SEZIONE INPUT: Contiene tutti i controlli -->
      
      <label for="number-input">Enter a decimal number:</label>
      <!-- ğŸ·ï¸ ETICHETTA: Collegata all'input tramite for="" -->
      <!-- for="number-input" si collega a id="number-input" -->
      
      <input
        value=""
        type="number"
        name="decimal number input"
        id="number-input"
        class="number-input"
      />
      <!-- ğŸ”¢ INPUT NUMERICO: Per inserire il decimale -->
      <!-- value="" = inizia vuoto -->
      <!-- type="number" = solo numeri, con frecce su/giÃ¹ -->
      <!-- name = per form (anche se qui non c'Ã¨ form) -->
      <!-- id = per JavaScript e label -->
      <!-- class = per CSS -->
      
      <button class="convert-btn" id="convert-btn">Convert</button>
      <!-- ğŸ”˜ BOTTONE: Avvia la conversione -->
      <!-- Doppio identificatore: class per CSS, id per JS -->
    </section>
    
    <section class="output-container">
      <!-- ğŸ“¦ SEZIONE OUTPUT: Risultato e animazione -->
      
      <output id="result" for="number-input"></output>
      <!-- ğŸ“¤ OUTPUT SEMANTICO: Tag HTML5 per risultati! -->
      <!-- output = elemento specifico per mostrare risultati di calcoli -->
      <!-- for="number-input" = indica che Ã¨ il risultato di quell'input -->
      <!-- Inizia vuoto, JavaScript lo riempirÃ  -->
      
      <h2>Call stack</h2>
      <!-- ğŸ“š TITOLO: Per la visualizzazione dello stack -->
      
      <div id="animation-container"></div>
      <!-- ğŸ¬ CONTENITORE ANIMAZIONE: Vuoto, riempito da JS -->
      <!-- Qui apparirÃ  l'animazione dello stack di chiamate -->
    </section>
    
    <script>
      /* ğŸ§® ===== JAVASCRIPT: Il Cervello del Convertitore! ===== */
      
      // ===== SELEZIONE ELEMENTI DOM =====
      const numberInput = document.getElementById("number-input");
      // ğŸ“¥ INPUT: Recupera l'elemento input tramite il suo ID
      // document.getElementById() = trova elemento per ID
      // PiÃ¹ veloce di querySelector per ID singoli
      
      const convertBtn = document.getElementById("convert-btn");
      // ğŸ”˜ BOTTONE: Recupera il bottone convert
      
      const result = document.getElementById("result");
      // ğŸ“¤ OUTPUT: Dove mostreremo il risultato
      
      const animationContainer = document.getElementById("animation-container");
      // ğŸ¬ CONTAINER: Dove mostreremo l'animazione dello stack
      
      // ===== DATI PER L'ANIMAZIONE =====
      const animationData = [
        // ğŸ“Š ARRAY DI OGGETTI: Ogni oggetto Ã¨ un passo dell'animazione
        {
          inputVal: 5,
          // ğŸ”¢ VALORE: Il numero da convertire in questo frame
          
          addElDelay: 1000,
          // â±ï¸ RITARDO APPARIZIONE: 1 secondo (1000ms)
          
          msg: 'decimalToBinary(5) returns "10" + 1 (5 % 2). Then it pops off the stack.',
          // ğŸ’¬ MESSAGGIO: Spiega cosa succede in questo passo
          // 5 % 2 = 1 (resto della divisione per 2)
          // "10" viene dal passo ricorsivo precedente
          
          showMsgDelay: 15000,
          // â±ï¸ RITARDO MESSAGGIO: Mostra il messaggio dopo 15 secondi
          
          removeElDelay: 20000,
          // â±ï¸ RITARDO RIMOZIONE: Rimuovi dopo 20 secondi
        },
        {
          inputVal: 2,
          // ğŸ”¢ SECONDO PASSO: Conversione di 2
          
          addElDelay: 1500,
          // â±ï¸ APPARE DOPO: 1.5 secondi
          
          msg: 'decimalToBinary(2) returns "1" + 0 (2 % 2) and gives that value to the stack below. Then it pops off the stack.',
          // ğŸ’¬ SPIEGAZIONE: 2 % 2 = 0, risultato "1" + "0" = "10"
          
          showMsgDelay: 10000,
          // â±ï¸ MESSAGGIO: Dopo 10 secondi
          
          removeElDelay: 15000,
          // â±ï¸ RIMOZIONE: Dopo 15 secondi
        },
        {
          inputVal: 1,
          // ğŸ”¢ TERZO PASSO: Caso base!
          
          addElDelay: 2000,
          // â±ï¸ APPARE: Dopo 2 secondi
          
          msg: "decimalToBinary(1) returns '1' (base case) and gives that value to the stack below. Then it pops off the stack.",
          // ğŸ’¬ CASO BASE: 1 ritorna semplicemente "1"
          
          showMsgDelay: 5000,
          // â±ï¸ MESSAGGIO: Dopo 5 secondi
          
          removeElDelay: 10000,
          // â±ï¸ RIMOZIONE: Dopo 10 secondi
        }
      ];
      
      // ===== FUNZIONE DI CONVERSIONE RICORSIVA =====
      const decimalToBinary = (input) => {
        // ğŸ”„ FUNZIONE RICORSIVA: Si chiama da sola!
        // Arrow function moderna: const nome = (parametri) => { corpo }
        
        if (input === 0 || input === 1) {
          // ğŸ¯ CASO BASE: 0 o 1 sono giÃ  binari!
          // === confronto stretto (tipo e valore)
          
          return String(input);
          // ğŸ”¤ CONVERTI IN STRINGA: String() trasforma numero in testo
          // 0 diventa "0", 1 diventa "1"
        } else {
          // ğŸ”„ CASO RICORSIVO: Numeri maggiori di 1
          
          return decimalToBinary(Math.floor(input / 2)) + (input % 2);
          // ğŸ§® LA MAGIA DELLA RICORSIONE!
          
          // SCOMPOSIZIONE:
          // 1. Math.floor(input / 2) = divisione intera per 2
          //    5 / 2 = 2.5 â†’ floor â†’ 2
          // 
          // 2. decimalToBinary(...) = chiamata ricorsiva con il quoziente
          //    Continua a dividere finchÃ© non arriva a 0 o 1
          //
          // 3. (input % 2) = resto della divisione (0 o 1)
          //    5 % 2 = 1
          //
          // 4. + concatena le stringhe
          //    "10" + 1 â†’ "10" + "1" â†’ "101"
          
          // ESEMPIO con 5:
          // decimalToBinary(5) â†’
          // decimalToBinary(2) + 1 â†’
          // decimalToBinary(1) + 0 + 1 â†’
          // "1" + 0 + 1 â†’ "101"
        }
      };
      
      // ===== FUNZIONE ANIMAZIONE =====
      const showAnimation = () => {
        // ğŸ¬ MOSTRA ANIMAZIONE: Solo per input = 5
        
        result.innerText = "Call Stack Animation";
        // ğŸ“ TESTO INIZIALE: Avvisa che parte l'animazione
        // innerText = proprietÃ  per cambiare il testo
      
        animationData.forEach((obj) => {
          // ğŸ”„ PER OGNI FRAME: Esegui le animazioni
          // forEach = metodo array che cicla ogni elemento
          // obj = ogni oggetto nell'array animationData
          
          setTimeout(() => {
            // â±ï¸ TIMER 1: Aggiungi elemento dopo il delay
            // setTimeout(funzione, millisecondi)
            
            animationContainer.innerHTML += `
              <p id="${obj.inputVal}" class="animation-frame">
                decimalToBinary(${obj.inputVal})
              </p>
            `;
            // ğŸ“ AGGIUNGI HTML: Template literal con backtick ``
            // ${} = interpolazione di variabili
            // += aggiunge alla fine del contenuto esistente
            // Crea un paragrafo con ID uguale al valore
          }, obj.addElDelay);
          // â±ï¸ DELAY: Usa il ritardo specifico dell'oggetto
      
          setTimeout(() => {
            // â±ï¸ TIMER 2: Cambia il testo dopo altro delay
            
            document.getElementById(obj.inputVal).textContent = obj.msg;
            // ğŸ“ AGGIORNA TESTO: Trova elemento per ID e cambia contenuto
            // textContent = solo testo, no HTML
          }, obj.showMsgDelay);
      
          setTimeout(() => {
            // â±ï¸ TIMER 3: Rimuovi elemento dopo ultimo delay
            
            document.getElementById(obj.inputVal).remove();
            // ğŸ—‘ï¸ RIMUOVI: Elimina l'elemento dal DOM
            // remove() = metodo per rimuovere elementi
          }, obj.removeElDelay);
        });
      
        setTimeout(() => {
          // â±ï¸ TIMER FINALE: Mostra il risultato alla fine
          
          result.textContent = decimalToBinary(5);
          // ğŸ“¤ RISULTATO: Mostra "101" (5 in binario)
        }, 20000);
        // â±ï¸ DOPO 20 SECONDI: Quando l'animazione Ã¨ finita
      };
      
      // ===== FUNZIONE VALIDAZIONE INPUT =====
      const checkUserInput = () => {
        // âœ… CONTROLLA INPUT: Valida prima di convertire
        
        const inputInt = parseInt(numberInput.value);
        // ğŸ”¢ CONVERTI IN INTERO: parseInt() trasforma stringa in numero
        // numberInput.value = il valore inserito dall'utente (sempre stringa)
      
        if (!numberInput.value || isNaN(inputInt) || inputInt < 0) {
          // ğŸš« VALIDAZIONE: Controlla tre condizioni
          // !numberInput.value = campo vuoto
          // isNaN(inputInt) = Not a Number (non Ã¨ un numero)
          // inputInt < 0 = numero negativo
          
          alert("Please provide a decimal number greater than or equal to 0");
          // âš ï¸ ALERT: Messaggio di errore popup
          
          return;
          // ğŸ›‘ STOP: Esci dalla funzione
        }
      
        if (inputInt === 5) {
          // ğŸ¬ CASO SPECIALE: Mostra animazione per il 5
          
          showAnimation();
          // ğŸ¬ AVVIA: Chiama la funzione animazione
          
          return;
          // ğŸ›‘ STOP: Non fare altro
        }
      
        result.textContent = decimalToBinary(inputInt);
        // ğŸ“¤ MOSTRA RISULTATO: Converti e visualizza
        
        numberInput.value = "";
        // ğŸ§¹ PULISCI: Svuota il campo input
        // Pronto per la prossima conversione!
      };
      
      // ===== EVENT LISTENERS =====
      
      convertBtn.addEventListener("click", checkUserInput);
      // ğŸ–±ï¸ CLICK SUL BOTTONE: Quando clicchi, esegui checkUserInput
      // addEventListener = "ascolta" gli eventi
      // "click" = tipo di evento
      // checkUserInput = funzione da eseguire (senza parentesi!)
      
      numberInput.addEventListener("keydown", (e) => {
        // âŒ¨ï¸ PRESSIONE TASTI: Ascolta la tastiera
        // "keydown" = quando premi un tasto
        // (e) = evento, contiene info sul tasto premuto
        
        if (e.key === "Enter") {
          // â TASTO ENTER: Se premi Invio...
          // e.key = il tasto premuto
          
          checkUserInput();
          // âœ… CONVERTI: Esegui la stessa funzione del bottone
          // Migliora l'usabilitÃ !
        }
      });
      
      // ===== COME FUNZIONA IL CONVERTITORE =====
      // 1. L'utente inserisce un numero decimale
      // 2. Clicca "Convert" o preme Enter
      // 3. Il numero viene validato
      // 4. Se Ã¨ 5, parte l'animazione dello stack
      // 5. Altrimenti, mostra direttamente il risultato binario
      // 6. L'input si svuota per una nuova conversione
      
      // ===== L'ALGORITMO DI CONVERSIONE =====
      // Divide ripetutamente per 2 e prende i resti
      // Li costruisce dal basso verso l'alto con la ricorsione
      // Esempio: 5 â†’ 5/2=2 resto 1 â†’ 2/2=1 resto 0 â†’ 1 (caso base)
      // Risultato: "1" + "0" + "1" = "101"
    </script>
  </body>
</html>
