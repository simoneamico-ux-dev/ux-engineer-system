---
sidebar_position: 10
sidebar_label: 'Todo App'
title: 'Todo App'
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Todo App

<img
  src={require('./assets/todo-app-1.webp').default}
  alt="Anteprima del progetto Todo App – screenshot della pagina di aggiunta attività"
  loading="lazy"
  decoding="async"
  width="2304"
  height="1196"
  style={{ width: '100%', height: 'auto', borderRadius: '10px' }}
/>

<img
  src={require('./assets/todo-app-2.webp').default}
  alt="Anteprima del progetto Todo App – screenshot di esempio della pagina principale"
  loading="lazy"
  decoding="async"
  width="2304"
  height="1196"
  style={{ width: '100%', height: 'auto', borderRadius: '10px' }}
/>

### Il Progetto
Todo App completa con localStorage per la persistenza dei dati, sviluppata con JavaScript vanilla, gestione avanzata dei form e interfaccia utente dinamica. Un'applicazione per la gestione delle task con funzionalità CRUD complete.

### Codice Sorgente

<Tabs>
<TabItem value="html" label="index.html" default>

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Learn localStorage by Building a Todo App</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <main>
    <h1>Todo App</h1>
    <div class="todo-app">
      <button id="open-task-form-btn" class="btn large-btn">
        Add New Task
      </button>
      <form class="task-form hidden" id="task-form">
        <div class="task-form-header">
          <button id="close-task-form-btn" class="close-task-form-btn" type="button" aria-label="close">
            <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px"><path fill="#F44336" d="M21.5 4.5H26.501V43.5H21.5z" transform="rotate(45.001 24 24)" /><path fill="#F44336" d="M21.5 4.5H26.5V43.501H21.5z" transform="rotate(135.008 24 24)" /></svg>
          </button>
        </div>
        <div class="task-form-body">
          <label class="task-form-label" for="title-input">Title</label>
          <input required type="text" class="form-control" id="title-input" value="" />
          <label class="task-form-label" for="date-input">Date</label>
          <input type="date" class="form-control" id="date-input" value="" />
          <label class="task-form-label" for="description-input">Description</label>
          <textarea class="form-control" id="description-input" cols="30" rows="5"></textarea>
        </div>
        <div class="task-form-footer">
          <button id="add-or-update-task-btn" class="btn large-btn" type="submit">
            Add Task
          </button>
        </div>
      </form>
      <dialog id="confirm-close-dialog">
        <form method="dialog">
          <p class="discard-message-text">Discard unsaved changes?</p>
          <div class="confirm-close-dialog-btn-container">
            <button id="cancel-btn" class="btn">
              Cancel
            </button>
            <button id="discard-btn" class="btn">
              Discard
            </button>
          </div>
        </form>
      </dialog>
      <div id="tasks-container"></div>
    </div>
  </main>
  <script src="script.js"></script>
</body>

</html>
```
</TabItem>

<TabItem value="css" label="styles.css">

```css
:root {
  --white: #fff;
  --light-grey: #f5f6f7;
  --dark-grey: #0a0a23;
  --yellow: #f1be32;
  --golden-yellow: #feac32;
}

*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background-color: var(--dark-grey);
}

main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

h1 {
  color: var(--light-grey);
  margin: 20px 0 40px 0;
}

.todo-app {
  background-color: var(--white);
  width: 300px;
  height: 350px;
  border: 5px solid var(--yellow);
  border-radius: 8px;
  padding: 15px;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.btn {
  cursor: pointer;
  width: 100px;
  margin: 10px;
  color: var(--dark-grey);
  background-color: var(--golden-yellow);
  background-image: linear-gradient(#fecc4c, #ffac33);
  border-color: var(--golden-yellow);
  border-width: 3px;
}

.btn:hover {
  background-image: linear-gradient(#ffcc4c, #f89808);
}

.large-btn {
  width: 80%;
  font-size: 1.2rem;
  align-self: center;
  justify-self: center;
}

.close-task-form-btn {
  background: none;
  border: none;
  cursor: pointer;
}

.close-icon {
  width: 20px;
  height: 20px;
}

.task-form {
  display: flex;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--white);
  border-radius: 5px;
  padding: 15px;
  width: 300px;
  height: 350px;
  flex-direction: column;
  justify-content: space-between;
  overflow: auto;
}

.task-form-header {
  display: flex;
  justify-content: flex-end;
}

.task-form-body {
  display: flex;
  flex-direction: column;
  justify-content: space-around;
}

.task-form-footer {
  display: flex;
  justify-content: center;
}

.task-form-label,
#title-input,
#date-input,
#description-input {
  display: block;
}

.task-form-label {
  margin-bottom: 5px;
  font-size: 1.3rem;
  font-weight: bold;
}

#title-input,
#date-input,
#description-input {
  width: 100%;
  margin-bottom: 10px;
  padding: 2px;
}

#confirm-close-dialog {
  padding: 10px;
  margin: 10px auto;
  border-radius: 15px;
}

.confirm-close-dialog-btn-container {
  display: flex;
  justify-content: center;
  margin-top: 10px;
}

.discard-message-text {
  font-weight: bold;
  font-size: 1.5rem;
}

#tasks-container {
  height: 100%;
  overflow-y: auto;
}

.task {
  margin: 5px 0;
}

.hidden {
  display: none;
}

@media (min-width: 576px) {
  .todo-app,
  .task-form {
    width: 400px;
    height: 450px;
  }

  .task-form-label {
    font-size: 1.5rem;
  }

  #title-input,
  #date-input {
    height: 2rem;
  }

  #title-input,
  #date-input,
  #description-input {
    padding: 5px;
    margin-bottom: 20px;
  }
}
```
</TabItem>

<TabItem value="js" label="script.js">

```js
const taskForm = document.getElementById("task-form");
const confirmCloseDialog = document.getElementById("confirm-close-dialog");
const openTaskFormBtn = document.getElementById("open-task-form-btn");
const closeTaskFormBtn = document.getElementById("close-task-form-btn");
const addOrUpdateTaskBtn = document.getElementById("add-or-update-task-btn");
const cancelBtn = document.getElementById("cancel-btn");
const discardBtn = document.getElementById("discard-btn");
const tasksContainer = document.getElementById("tasks-container");
const titleInput = document.getElementById("title-input");
const dateInput = document.getElementById("date-input");
const descriptionInput = document.getElementById("description-input");

const taskData = JSON.parse(localStorage.getItem("data")) || [];
let currentTask = {};

const removeSpecialChars = (val) => {
  return val.trim().replace(/[^A-Za-z0-9\-\s]/g, '')
}

const addOrUpdateTask = () => {
   if(!titleInput.value.trim()){
    alert("Please provide a title");
    return;
  }
  const dataArrIndex = taskData.findIndex((item) => item.id === currentTask.id);
  const taskObj = {
  id: `${removeSpecialChars(titleInput.value).toLowerCase().split(" ").join("-")}-${Date.now()}`,
  title: removeSpecialChars(titleInput.value),
  date: dateInput.value,
  description: removeSpecialChars(descriptionInput.value),
};

  if (dataArrIndex === -1) {
    taskData.unshift(taskObj);
  } else {
    taskData[dataArrIndex] = taskObj;
  }

  localStorage.setItem("data", JSON.stringify(taskData));
  updateTaskContainer()
  reset()
};

const updateTaskContainer = () => {
  tasksContainer.innerHTML = "";

  taskData.forEach(
    ({ id, title, date, description }) => {
        (tasksContainer.innerHTML += `
        <div class="task" id="${id}">
          <p><strong>Title:</strong> ${title}</p>
          <p><strong>Date:</strong> ${date}</p>
          <p><strong>Description:</strong> ${description}</p>
          <button onclick="editTask(this)" type="button" class="btn">Edit</button>
          <button onclick="deleteTask(this)" type="button" class="btn">Delete</button> 
        </div>
      `)
    }
  );
};


const deleteTask = (buttonEl) => {
  const dataArrIndex = taskData.findIndex(
    (item) => item.id === buttonEl.parentElement.id
  );

  buttonEl.parentElement.remove();
  taskData.splice(dataArrIndex, 1);
  localStorage.setItem("data", JSON.stringify(taskData));
}

const editTask = (buttonEl) => {
    const dataArrIndex = taskData.findIndex(
    (item) => item.id === buttonEl.parentElement.id
  );

  currentTask = taskData[dataArrIndex];

  titleInput.value = currentTask.title;
  dateInput.value = currentTask.date;
  descriptionInput.value = currentTask.description;

  addOrUpdateTaskBtn.innerText = "Update Task";

  taskForm.classList.toggle("hidden");  
}

const reset = () => {
  addOrUpdateTaskBtn.innerText = "Add Task";
  titleInput.value = "";
  dateInput.value = "";
  descriptionInput.value = "";
  taskForm.classList.toggle("hidden");
  currentTask = {};
}

if (taskData.length) {
  updateTaskContainer();
}

openTaskFormBtn.addEventListener("click", () =>
  taskForm.classList.toggle("hidden")
);

closeTaskFormBtn.addEventListener("click", () => {
  const formInputsContainValues = titleInput.value || dateInput.value || descriptionInput.value;
  const formInputValuesUpdated = titleInput.value !== currentTask.title || dateInput.value !== currentTask.date || descriptionInput.value !== currentTask.description;

  if (formInputsContainValues && formInputValuesUpdated) {
    confirmCloseDialog.showModal();
  } else {
    reset();
  }
});

cancelBtn.addEventListener("click", () => confirmCloseDialog.close());

discardBtn.addEventListener("click", () => {
  confirmCloseDialog.close();
  reset()
});

taskForm.addEventListener("submit", (e) => {
  e.preventDefault();

  addOrUpdateTask();
});
```

</TabItem> 

</Tabs>

### È Arrivato il Momento di Fermarsi

In alcuni step ho fatto parecchia fatica, è stato come se il mio cervello fosse alla capacità massima. <br />
Sicuramente ho sbagliato ieri quando, dopo aver finito la quantità di step prefissata (30), mi sono messo ad approfondire CSS, oltre che continuato in parallelo anche il corso di inglese, sempre di freeCodeCamp. <br />
So che lo sforzo richiesto per l'apprendimento non è da sottovalutare e proprio per questo in passato alternavo tra code e design.

Ebbene è arrivato il momento di riprendere il design. Devo operarmi per due ernie inguinali e mancano pochi giorni, l'idea era quella di andare avanti il più possibile con il coding, esattamente come ho fatto in queste ultime settimane, e "staccare mentalmente" nel periodo post-operatorio col design. A quanto pare non è fattibile. 

Ho bisogno di alternare le due attività perché rischio di abbassare il livello di apprendimento a una soglia troppo bassa, al punto che non varrebbe nemmeno la pena aprire freeCodeCamp.

### La Responsabilità dell'Apprendimento

Tutto questo perchè prendo sul serio questo percorso. Quando mi imbatto in un concetto che non riesco a comprendere, anche dopo averlo approfondito, mi ricordo sempre che non posso permettermi di non assimilarlo, perché questo non è un hobby, si tratta del mio futuro lavoro. Se non capisco un concetto ora significherà che sprecherò molto più tempo domani per impararlo, oltre al fatto che non saperlo equivale a perdere pezzi del puzzle mentale che mi serve per pensare da developer.

### Cosa Ho Imparato

**localStorage Mastery:**
- `localStorage.getItem()` per recuperare dati persistenti
- `localStorage.setItem()` per salvare dati nel browser
- `JSON.parse()` e `JSON.stringify()` per conversione oggetti
- Gestione dei dati quando localStorage è vuoto con `|| []`

**Array Methods Avanzati:**
- `.findIndex()` per trovare l'indice di elementi specifici
- `.unshift()` per aggiungere elementi all'inizio dell'array
- `.splice()` per rimuovere elementi da posizioni specifiche
- `.forEach()` con destructuring per iterazione elegante

**Form Handling Completo:**
- `e.preventDefault()` per controllare il comportamento dei form
- Validazione input con controllo di valori vuoti
- Gestione stati del form (Add vs Update mode)
- Reset dinamico dei form dopo operazioni

**DOM Manipulation Avanzata:**
- Template literals per generazione HTML dinamica
- `innerHTML` per aggiornamento completo del contenuto
- `parentElement` per navigazione DOM relativa
- Event handling con parametri delle funzioni

**Modal Dialog System:**
- `showModal()` e `close()` per controllo dialog nativi
- Gestione conferma di chiusura con controllo modifiche
- Confronto valori per rilevare cambiamenti non salvati

**Utility Functions:**
- `removeSpecialChars()` per sanitizzazione input
- Generazione ID univoci con timestamp
- String manipulation con `trim()`, `replace()`, `split()`, `join()`

**State Management:**
- Gestione stato globale con `currentTask` object
- Sincronizzazione tra UI e localStorage
- Pattern Add/Edit con stesso form

### Riflessione

Google UX sto arrivando!

***

**Prossimo Progetto**: Imparare la Ricorsione costruendo un Decimal to Binary Converter